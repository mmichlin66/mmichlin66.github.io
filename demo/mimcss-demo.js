!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mimbl"),require("mimcss"),require("mim-tsplay")):"function"==typeof define&&define.amd?define(["mimbl","mimcss","mim-tsplay"],t):"object"==typeof exports?exports["mimcss-demo"]=t(require("mimbl"),require("mimcss"),require("mim-tsplay")):e["mimcss-demo"]=t(e.mimbl,e.mimcss,e["mim-tsplay"])}(this,(function(e,t,s){return function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=3)}([function(t,s){t.exports=e},function(e,s){e.exports=t},function(e,t){e.exports=s},function(e,t,s){"use strict";s.r(t);var i=s(2),r=s(0),n=s(1);class l extends n.StyleDefinition{constructor(){super(...arguments),this.paramsArea=n.$gridarea(),this.demoArea=n.$gridarea(),this.resultArea=n.$gridarea(),this.cssResultArea=n.$gridarea(),this.masterGrid=n.$class({overflow:"hidden",display:"grid",gridTemplateColumns:["auto","auto"],gridTemplateRows:["auto","auto","auto"],gridTemplateAreas:[[this.paramsArea,1,1,1,1],[this.demoArea,1,2,1,2],[this.resultArea,2,1,2,2],[this.cssResultArea,3,1,3,2]]}),this.panel=n.$class({border:"1px solid lightgrey",placeSelf:"stretch",minWidth:200,padding:8}),this.paramsPane=n.$class({"+":this.panel,gridArea:this.paramsArea,display:"flex",flexDirection:"column",alignItems:"flex-start",gap:16}),this.demoPane=n.$class({"+":this.panel,gridArea:this.demoArea,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"}),this.resultPane=n.$class({"+":this.panel,gridArea:this.resultArea}),this.cssResultPane=n.$class({"+":this.panel,gridArea:this.cssResultArea}),this.controlBox=n.$class({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4}),this.controlRow=n.$class({display:"flex",flexDirection:"row",alignItems:"center",gap:4})}}let o=n.activate(l);class a extends r.Component{constructor(e,t){super(),this._events=r.createMultiEventSlot(),this.items=e,this._selectedItemID=t||(e.length>0?"string"==typeof e[0]?e[0]:e[0][0]:null)}get events(){return this._events}get selectedItemID(){return this._selectedItemID}set selectedItemID(e){this._selectedItemID=e,this.updateMe()}willUnmount(){this._events.change.clear()}render(){return r.jsx("select",{change:this.onItemSelected},this.items.map(e=>{let t,s;"string"==typeof e?t=s=e:(t=e[0],s=e[1]);let i=t===this._selectedItemID;return r.jsx("option",{value:t,selected:i},s)}))}onItemSelected(e){let t=e.target.value;this._selectedItemID=t,this._events.change.fire(t)}}var d=function(e,t,s,i){var r,n=arguments.length,l=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(l=(n<3?r(l):n>3?r(t,s,l):r(t,s))||l);return n>3&&l&&Object.defineProperty(t,s,l),l};class c extends r.Component{constructor(e,t=1,s=!1){super(),this.onNamedColorSelected=e=>{this.onNamedColorChanged()},this.onSystemColorSelected=e=>{this.updateSelectedColor(e)},this._events=r.createMultiEventSlot(),this.namedColorPicker=new a(Array.from(Object.keys(n.Colors))),this.namedColorPicker.events.change.attach(this.onNamedColorSelected),this.systemColorPicker=new a(["ActiveText","ButtonFace","ButtonText","Canvas","CanvasText","Field","FieldText","GrayText","Highlight","HighlightText","LinkText","VisitedText"]),this.systemColorPicker.events.change.attach(this.onSystemColorSelected),this.setSelectedColor(e,t,s)}get events(){return this._events}get selectedColor(){return this._selectedColor}setSelectedColor(e,t=1,s=!1){null==e&&(e="black"),"string"==typeof e?e in n.Colors?(this.valueKind="Named",this.namedColorPicker.selectedItemID=e,this.buildNamedColor(e,t,s)):"transparent"===e?(this.valueKind="Transparent",this.updateSelectedColor(e)):"currentcolor"===e?(this.valueKind="Current",this.updateSelectedColor(e)):(this.valueKind="System",this.systemColorPicker.selectedItemID=e,this.updateSelectedColor(e)):(this.buildHexColor(e,t,s),this.valueKind="Hex",this.hexInput&&(this.hexInput.value=e.toString(16)))}get selectedMimcssColorString(){return this._selectedMimcssColorString}willUnmount(){this._events.change.clear()}render(){let e="Named"===this.valueKind,t="Hex"===this.valueKind,s="System"===this.valueKind;return r.jsx("div",{class:o.controlBox},r.jsx("div",{class:o.controlRow},r.jsx("input",{type:"radio",name:"valueKind",id:"Named",checked:e,click:this.onValueKindChanged}),r.jsx("label",{for:"Named"},"named"),r.jsx("div",{class:o.controlRow,style:{visibility:e?"visible":"hidden"}},this.namedColorPicker,r.jsx("label",{for:"namedAlphaInput"},"alpha"),r.jsx("input",{type:"number",id:"namedAlphaInput",ref:this.namedAlphaInput,min:0,max:1,step:.1,defaultValue:"1",input:this.onNamedColorChanged,style:{width:"4em"}}),r.jsx("label",{for:"namedInvertInput"},"inverted"),r.jsx("input",{type:"checkbox",id:"namedInvertInput",ref:this.namedInvertInput,defaultCheck:!1,input:this.onNamedColorChanged}))),r.jsx("div",{class:o.controlRow},r.jsx("input",{type:"radio",name:"valueKind",id:"Hex",checked:t,click:this.onValueKindChanged}),r.jsx("label",{for:"Hex"},"hexadecimal"),r.jsx("div",{class:o.controlRow,style:{visibility:t?"visible":"hidden"}},r.jsx("input",{type:"text",ref:this.hexInput,defaultValue:(0).toString(),size:6,input:this.onHexColorChanged,style:{textTransform:"uppercase",textAlign:"center"}}),r.jsx("input",{type:"color",ref:this.hexPickerInput,input:this.onHexPickerChanged}),r.jsx("label",{for:"hexAlphaInput"},"alpha"),r.jsx("input",{type:"number",id:"hexAlphaInput",ref:this.hexAlphaInput,min:0,max:1,step:.1,defaultValue:"1",input:this.onHexColorChanged,style:{width:"4em"}}),r.jsx("label",{for:"hexInvertInput"},"inverted"),r.jsx("input",{type:"checkbox",id:"hexInvertInput",ref:this.hexInvertInput,defaultCheck:!1,input:this.onHexColorChanged}))),r.jsx("div",{class:o.controlRow},r.jsx("input",{type:"radio",name:"valueKind",id:"System",checked:s,click:this.onValueKindChanged}),r.jsx("label",{for:"System"},"system"),r.jsx("span",{style:{visibility:s?"visible":"hidden"}},this.systemColorPicker)),r.jsx("div",{class:o.controlRow},r.jsx("input",{type:"radio",name:"valueKind",id:"Transparent",checked:"Transparent"===this.valueKind,click:this.onValueKindChanged}),r.jsx("label",{for:"Transparent"},"transparent")),r.jsx("div",{class:o.controlRow},r.jsx("input",{type:"radio",name:"valueKind",id:"Current",checked:"Current"===this.valueKind,click:this.onValueKindChanged}),r.jsx("label",{for:"Current"},"currentcolor")))}onValueKindChanged(e){this.valueKind=e.target.id,"Named"===this.valueKind?this.onNamedColorChanged():"Hex"===this.valueKind?this.onHexColorChanged():"System"===this.valueKind?this.updateSelectedColor(this.systemColorPicker.selectedItemID):"Transparent"===this.valueKind?this.updateSelectedColor("transparent"):"Current"===this.valueKind&&this.updateSelectedColor("currentcolor")}onNamedColorChanged(){this.buildNamedColor(this.namedColorPicker.selectedItemID,parseFloat(this.namedAlphaInput.value),this.namedInvertInput.checked)}onHexColorChanged(){this.buildHexColor(parseInt(this.hexInput.value,16),parseFloat(this.hexAlphaInput.value),this.hexInvertInput.checked)}onHexPickerChanged(){let e=parseInt(this.hexPickerInput.value.substr(1),16);isNaN(e)&&(e=0),this.hexInput.value=e.toString(16).toUpperCase(),this.onHexColorChanged()}buildNamedColor(e,t,s){let i,r=e;if(isNaN(t)&&(t=1),0===t)r="transparent";else if(t<1)if(s){let s=n.Colors[e];s=0===s?16777215:16777215===s?0:-s,i=`(-0x${s.toString(16)} - ${t})`,r=s>=0?s+t:s-t}else i=`css.alpha( "${e}", ${t})`,r=n.alpha(e,t);else if(s){let t=n.Colors[e];t=0===t?16777215:16777215===t?0:-t,r=t}this.updateSelectedColor(r,i)}buildHexColor(e,t,s){let i;isNaN(e)&&(e=0),isNaN(t)&&(t=1),s&&(e=0===e?16777215:16777215===e?0:-e);let r=e;if(0===t)r="transparent";else if(t<1){r+=e>=0?t:-t;let s=e>=0?"+":"-";i=`(${e>=0?"":"-"}0x${(e=e>=0?e:-e).toString(16)} ${s} ${t})`}this.updateSelectedColor(r,i)}updateSelectedColor(e,t){this._selectedColor=e,t?this._selectedMimcssColorString=t:"string"==typeof e?this._selectedMimcssColorString=`"${e}"`:"number"==typeof e&&(this._selectedMimcssColorString=e>=0?"0x"+e.toString(16):"-0x"+(-e).toString(16)),this._events.change.fire(e,this._selectedMimcssColorString)}}d([r.trigger],c.prototype,"valueKind",void 0),d([r.ref],c.prototype,"namedAlphaInput",void 0),d([r.ref],c.prototype,"namedInvertInput",void 0),d([r.ref],c.prototype,"hexAlphaInput",void 0),d([r.ref],c.prototype,"hexInvertInput",void 0),d([r.ref],c.prototype,"hexInput",void 0),d([r.ref],c.prototype,"hexPickerInput",void 0);var h=function(e,t,s,i){var r,n=arguments.length,l=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(l=(n<3?r(l):n>3?r(t,s,l):r(t,s))||l);return n>3&&l&&Object.defineProperty(t,s,l),l};class u extends r.Dialog{constructor(e){super(void 0,`Style property '${e}'`),this.onStyleChanged=e=>{this.style=e},this.onColorChanged=(e,t)=>{this.color=e,this.mimcssColorString=t},this.propName=e,this.addButton({id:"ok",content:"OK",callback:()=>this.onOKClicked()}),this.addButton({id:"cancel",content:"Cancel",returnValue:null}),this.size=4,this.style="solid",this.color="black",this.stylePicker=new a(["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],"solid"),this.stylePicker.events.change.attach(this.onStyleChanged),this.colorPicker=new c,this.colorPicker.events.change.attach(this.onColorChanged),this.mimcssColorString=this.colorPicker.selectedMimcssColorString}renderBody(){return r.jsx("div",{class:o.masterGrid},this.renderParams,this.renderDemo,this.renderResult,this.renderCssResult)}renderParams(){return r.jsx("div",{class:o.paramsPane},r.jsx("div",{class:i.sharedStyles.vbox},r.jsx("strong",null,"Size"),r.jsx("input",{type:"text",defaultValue:4..toString(),input:this.onSizeChanged})),r.jsx("div",{class:i.sharedStyles.vbox},r.jsx("strong",null,"Style"),this.stylePicker),r.jsx("div",{class:i.sharedStyles.vbox},r.jsx("strong",null,"Color"),this.colorPicker))}renderDemo(){return r.jsx("div",{class:o.demoPane},r.jsx("div",{style:{[this.propName]:[this.size,this.style,this.color],width:100,height:100}}))}renderResult(){return r.jsx("div",{class:o.resultPane},r.jsx("span",null,r.jsx("strong",null,"Mimcss: ")),r.jsx("span",null,this.result))}renderCssResult(){return r.jsx("div",{class:o.cssResultPane},r.jsx("span",null,r.jsx("strong",null,"CSS: ")),r.jsx("span",null,this.cssResult))}onSizeChanged(e){let t=e.target.value;this.size=parseFloat(t),isNaN(this.size)&&(this.size=1)}async onOKClicked(){this.close(this.result)}get result(){let e="string"==typeof this.size?`"${this.size}"`:this.size.toString();return`${this.propName}: [${e}, "${this.style}", ${this.mimcssColorString}],`}get cssResult(){return`this.propName: ${n.getStylePropValue(this.propName,[this.size,this.style,this.color])};`}}h([r.computed],u.prototype,"result",null),h([r.computed],u.prototype,"cssResult",null),h([r.trigger],u.prototype,"size",void 0),h([r.trigger],u.prototype,"style",void 0),h([r.trigger],u.prototype,"color",void 0),h([r.trigger],u.prototype,"mimcssColorString",void 0);i.registerExtension(class{static get displayName(){return"mimcss-demo"}getExtraLibs(){return null}getExamples(){return null}getCodeSnippets(){return[{category:"Properties",name:"Border",description:"Defines 'border' style property'",createSnippet:async()=>await new u("border").showModal()}]}})}])}));
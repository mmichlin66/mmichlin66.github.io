!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("mimcss")):"function"==typeof define&&define.amd?define(["mimcss"],e):"object"==typeof exports?exports.mimbl=e(require("mimcss")):t.mimbl=e(t.mimcss)}(this,(function(t){return function(t){var e={};function s(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=4)}([function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),n=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(s(6),e),n(s(3),e),n(s(2),e),n(s(7),e),n(s(8),e),n(s(9),e),n(s(10),e),n(s(11),e),n(s(12),e),n(s(13),e),n(s(14),e),n(s(15),e),n(s(16),e),n(s(17),e),n(s(19),e),n(s(20),e)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updatable=e.noWatcher=e.symRenderNoWatcher=e.unmount=e.mount=e.PromiseProxy=e.FuncProxy=e.Fragment=e.Component=e.registerCustomEvent=e.registerCustomAttribute=e.createTextVN=e.setRef=e.ref=e.ElmRef=e.Ref=e.jsx=e.getCallbackArg=e.wrapCallback=void 0;const r=s(0);e.wrapCallback=function(t){return r.s_wrapCallback(t)},e.getCallbackArg=function(){return r.s_getCallbackArg()},e.jsx=function(t,e,...s){return t[r.symJsxToVNs](e,s)};let n=Symbol("symRef");class i{constructor(t,e){void 0!==t&&(this.changedEvent=new r.EventSlot,this.changedEvent.attach(t)),this[n]=e}addListener(t){this.changedEvent||(this.changedEvent=new r.EventSlot),this.changedEvent.attach(t)}removeListener(t){this.changedEvent&&this.changedEvent.detach(t)}get r(){return this[n]}set r(t){this[n]!==t&&(this[n]=t,this.changedEvent&&this.changedEvent.fire(t))}}e.Ref=i;e.ElmRef=class extends i{},e.ref=function(t,e){let s=Symbol(e+"_ref");function r(t){let e=t[s];return e||(t[s]=e=new o,e.proxy=new Proxy({},e)),e}Object.defineProperty(t,e,{set(t){r(this).obj=t},get(){return r(this).proxy}})};class o{get(t,e,s){if("r"===e)return this.obj;let r=this.obj[e];return"function"==typeof r?r.bind(this.obj):r}set(t,e,s,r){return"r"===e?this.obj=s:this.obj[e]=s,!0}deleteProperty(t,e){return Reflect.deleteProperty(this.obj,e)}defineProperty(t,e,s){return Reflect.defineProperty(this.obj,e,s)}has(t,e){return Reflect.has(this.obj,e)}getPrototypeOf(t){return Reflect.getPrototypeOf(this.obj)}isExtensible(t){return Reflect.isExtensible(this.obj)}getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(this.obj,e)}ownKeys(t){return Reflect.ownKeys(this.obj)}}e.setRef=function(t,e,s){"function"==typeof t?t(e):s&&t.r!==s||(t.r=e)},e.createTextVN=function(t){return new r.TextVN(t)},e.registerCustomAttribute=function(t,e){r.registerElmProp(t,{type:3,handlerClass:e})},e.registerCustomEvent=function(t){r.registerElmProp(t,{type:2})};class l{constructor(t){t&&(this.props=t)}get isMounted(){return null!=this.vn}updateMe(t,e,s){this.vn&&(t?r.FuncProxyVN.update(t,e||this,s):this.vn.requestUpdate())}callMeBeforeUpdate(t,e){r.scheduleFuncCall(t,!0,e||this,this)}callMeAfterUpdate(t,e){r.scheduleFuncCall(t,!1,e||this,this)}wrapCallback(t,e,s){return r.s_wrapCallback({func:t,funcThisArg:e||this,creator:this,schedulingType:s})}}e.Component=l,l.prototype.displayName=void 0,l.prototype.willMount=void 0,l.prototype.didMount=void 0,l.prototype.didReplace=void 0,l.prototype.willUnmount=void 0,l.prototype.beforeUpdate=void 0,l.prototype.afterUpdate=void 0,l.prototype.shouldUpdate=void 0,l.prototype.handleError=void 0,l.prototype.getUpdateStrategy=void 0,e.Fragment=function(t){};e.FuncProxy=class extends l{constructor(t){super(t)}render(){}};e.PromiseProxy=class extends l{constructor(t){super(t)}render(){}},e.mount=function(t,e=null){r.mountRoot(t,e)},e.unmount=function(t=null){r.unmountRoot(t)},e.symRenderNoWatcher=Symbol(),e.noWatcher=function(t,s,r){if(!r.value)throw new Error("@noWatcher decorator can only be applied to methods.");r.value[e.symRenderNoWatcher]=!0},e.updatable=function(t,e){let s="_m_"+e;Object.defineProperty(t,e,{set(t){if(this[s]!==t){this[s]=t,this.vn&&this.vn.requestUpdate()}},get(){return this[s]}})}},function(t,e,s){"use strict";var r;function n(t,e){return new i(t<0?0:t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.computed=e.trigger=e.createMutator=e.createComputedTrigger=e.exitMutationScope=e.enterMutationScope=e.createWatcher=e.createTrigger=void 0,function(t){t[t.Value=0]="Value",t[t.Shallow=1]="Shallow",t[t.Deep=100]="Deep"}(r||(r={})),e.createTrigger=n;class i{constructor(t,e){this.watchers=new Set,this.depth=t,this.v=p(e,this,t)}get(){return this.notifyRead(),this.v}set(t){t!==this.v&&(this.v=p(t,this,this.depth),this.notifyChanged())}notifyRead(){c.notifyTriggerRead(this)}notifyChanged(){this.watchers.size>0&&c.notifyTriggerChanged(this)}}let o=Symbol("symWatcher");function l(t,e,s,r){function n(...t){return n[o].execute(this,t)}return n[o]=new u(t,e,s,r),n.dispose=function(){let t=n[o];t&&t.dispose(),delete n[o]},n}e.createWatcher=l;class u{constructor(t,e,s,r){this.triggers=new Set,this.func=t,this.responder=e,this.funcThis=s,this.responderThis=r||s}execute(t,e){if(!this.func)throw new Error("Disposed watcher was called.");!this.funcThis&&t&&(this.funcThis=t,this.responderThis||(this.responderThis=t)),this.clean(),c.pushWatcher(this);try{return this.func.apply(this.funcThis,e)}finally{c.popWatcher()}}dispose(){this.func&&(this.clean(),this.func=null,this.responder=null,this.funcThis=null,this.responderThis=null)}respond(){this.responder&&this.responder.apply(this.responderThis)}clean(){this.triggers.forEach(t=>t.watchers.delete(this)),this.triggers.clear(),c.removeDeferredWatcher(this)}}let c=new class{constructor(){this.watcherStack=[],this.mutationScopesRefCount=0,this.deferredWatchers=new Set}pushWatcher(t){this.watcherStack.push(t)}popWatcher(){this.watcherStack.pop()}removeDeferredWatcher(t){this.deferredWatchers.delete(t)}enterMutationScope(){this.mutationScopesRefCount++}exitMutationScope(){if(0===this.mutationScopesRefCount)throw Error("Unpaired call to exitMutationScope");if(0==--this.mutationScopesRefCount){let t=Array.from(this.deferredWatchers.keys());this.deferredWatchers.clear(),t.forEach(t=>t.respond())}}notifyTriggerRead(t){for(let e of this.watcherStack)e.triggers.add(t),t.watchers.add(e)}notifyTriggerChanged(t){if(this.mutationScopesRefCount>0)t.watchers.forEach(t=>this.deferredWatchers.add(t));else{Array.from(t.watchers.keys()).forEach(t=>t.respond())}}};function a(t,e){return new h(t,e)}e.enterMutationScope=function(){c.enterMutationScope()},e.exitMutationScope=function(){c.exitMutationScope()},e.createComputedTrigger=a;class h extends i{constructor(t,e){super(r.Value),this.func=t,this.funcThis=e,this.isStale=!0}get(){return this.isStale&&(this.funcWatcher||(this.funcWatcher=l(this.func,this.responder,this.funcThis,this)),super.set(this.funcWatcher()),this.isStale=!1),super.get()}dispose(){this.func&&(this.funcWatcher&&(this.funcWatcher.dispose(),this.funcWatcher=null),this.func=null)}responder(){this.watchers.size>0?super.set(this.funcWatcher()):this.isStale=!0}}let d=Symbol("symMutator");e.createMutator=function(t,e){function s(...t){return s[o].execute(this,t)}return s[d]=new f(t,e),s.dispose=function(){let t=s[d];t&&t.dispose(),delete s[d]},s};class f{constructor(t,e){this.func=t,this.funcThis=e}execute(t,e){if(!this.func)throw new Error("Disposed mutator was called.");!this.funcThis&&t&&(this.funcThis=t),c.enterMutationScope();try{return this.func.apply(this.funcThis,e)}finally{c.exitMutationScope()}}dispose(){this.func&&(this.func=null,this.funcThis=null)}}function p(t,e,s){return t&&0!==s?Array.isArray(t)?new Proxy(t,new m(e,(s||r.Shallow)-1)):t instanceof Map?new Proxy(t,new y(e,(s||r.Shallow)-1)):t instanceof Set?new Proxy(t,new v(e,(s||r.Shallow)-1)):t.constructor===Object?new Proxy(t,new m(e,(s||r.Deep)-1)):t:t}class m{constructor(t,e){this.trigger=t,this.depth=e}get(t,e,s){return this.trigger.notifyRead(),Reflect.get(t,e,s)}set(t,e,s,r){return Reflect.get(t,e,r)==s||(this.trigger.notifyChanged(),Reflect.set(t,e,p(s,this.trigger,this.depth),r))}deleteProperty(t,e){return this.trigger.notifyChanged(),Reflect.deleteProperty(t,e)}defineProperty(t,e,s){return this.trigger.notifyChanged(),Reflect.defineProperty(t,e,s)}has(t,e){return this.trigger.notifyRead(),Reflect.has(t,e)}getPrototypeOf(t){return this.trigger.notifyRead(),Reflect.getPrototypeOf(t)}isExtensible(t){return this.trigger.notifyRead(),Reflect.isExtensible(t)}getOwnPropertyDescriptor(t,e){return this.trigger.notifyRead(),Reflect.getOwnPropertyDescriptor(t,e)}ownKeys(t){return this.trigger.notifyRead(),Reflect.ownKeys(t)}}class g{constructor(t,e,s){this.wrappedMethods=new Map,this.trigger=t,this.mutatorMethodNames=e,this.depth=s}get(t,e,s){this.trigger.notifyRead();let r=this,n=this.wrappedMethods.get(e);if(!n){let s=t[e];if("function"!=typeof s)return s;let i=s.bind(t);n=this.mutatorMethodNames.has(e)?function(){let s=r.callOrgMutatorMethod(t,e,i,...arguments);return s[1]&&r.trigger.notifyChanged(),s[0]}:function(){return r.trigger.notifyRead(),i(...arguments)},this.wrappedMethods.set(e,n)}return n}callOrgMutatorMethod(t,e,s,...r){return[void 0,!1]}}class y extends g{constructor(t,e){super(t,y.mutatorMethodNames,e)}callOrgMutatorMethod(t,e,s,...r){if("clear"===e){let e=t.size>0;return s(),[void 0,e]}if("set"===e)return[s(r[0],p(r[1],this.trigger,this.depth)),!0];if("delete"===e){let t=s(r[0]);return[t,t]}}}y.mutatorMethodNames=new Set(["clear","delete","set"]);class v extends g{constructor(t,e){super(t,v.mutatorMethodNames,e)}callOrgMutatorMethod(t,e,s,...r){if("add"===e)return[s(p(r[0],this.trigger,this.depth)),!0];if("clear"===e){let e=t.size>0;return s(),[void 0,e]}if("delete"===e){let t=s(r[0]);return[t,t]}}}function N(t,e,s){let r=Symbol(s+"_trigger");Object.defineProperty(e,s,{get(){let e=this[r];return e||(this[r]=e=n(t)),e.get()},set(e){let s=this[r];s?s.set(e):this[r]=s=n(t,e)}})}v.mutatorMethodNames=new Set(["add","delete","clear"]),e.trigger=function(t,e){return"number"==typeof t?N.bind(void 0,t):N(void 0,t,e)},e.computed=function(t,e,s){let r=Symbol(e);if(s.value){let t=s.value;s.value=function(e){let s=this[r];return s||(this[r]=s=a(t,this)),s.get()}}else{if(!s.get)throw new Error("@computed property requires get() accessor");let t=s.get;if(s.get=function(){let e=this[r];return e||(this[r]=e=a(t,this)),e.get()},s.set){let t=s.set;s.set=function(e){c.enterMutationScope();try{t.call(this,e)}finally{c.exitMutationScope()}}}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMultiEventSlot=e.EventSlot=void 0;class r{constructor(){this.fire=this.realFire}attach(t){this.listeners||(this.listeners=new Set),this.listeners.add(t)}detach(t){this.listeners&&(this.listeners.delete(t),0===this.listeners.size&&(this.listeners=null))}get count(){return this.listeners?this.listeners.size:0}clear(){this.listeners=null}realFire(){if(this.listeners)for(let t of this.listeners)t(...arguments)}}e.EventSlot=r,e.createMultiEventSlot=function(){return new Proxy({},new n)};class n{get(t,e,s){return this[e]?this[e]:new i(this,e)}}class i{constructor(t,e){this.handler=t,this.prop=e}fire(){this.slot&&this.slot.fire(...arguments)}clear(){this.slot&&this.slot.clear()}attach(t){this.slot||(this.slot=this.handler[this.prop]=new r),this.slot.attach(t)}detach(t){this.slot&&this.slot.detach(t)}get count(){return this.slot?this.slot.count:0}}},function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),n=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.mimblStyleSchedulerType=void 0,n(s(3),e),n(s(2),e),n(s(5),e),n(s(21),e),n(s(22),e),n(s(1),e);s(0).s_initStyleScheduler().then(t=>e.mimblStyleSchedulerType=t)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Defer=e.createPromiseEx=e.isSvgSvg=e.isSvg=void 0;const r=s(0);e.isSvg=function(t){return r.s_isSvg(t)},e.isSvgSvg=function(t){return r.s_isSvgSvg(t)},e.createPromiseEx=function(){let t,e,s=new Promise((function(s,r){t=s,e=r}));return s.resolve=t,s.reject=e,s};e.Defer=class extends Promise{constructor(){super((function(t,e){this.resolve=t,this.reject=e}))}}},function(t,e,s){"use strict";function r(t,e,s=-1){if(t===e)return!0;if(null==t&&null==e)return!0;if(0===s)return!1;if(null==t||null==e)return!1;if(typeof t!=typeof e)return!1;if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(!r(t[n],e[n],s-1))return!1;return!0}if("object"==typeof t){for(let n in t)if(!r(t[n],e[n],s-1))return!1;for(let s in e)if(!(s in t))return!1;return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.s_isSvgSvg=e.s_isSvg=e.s_deepCompare=e.s_shallowCompare=void 0,e.s_shallowCompare=function(t,e){return r(t,e,1)},e.s_deepCompare=r,e.s_isSvg=function(t){return"ownerSVGElement"in t},e.s_isSvgSvg=function(t){return"svg"===t.tagName}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElmProp=e.updateElmProp=e.setElmProp=e.getElmPropInfo=e.registerElmProp=void 0;const r=s(0);let n={key:{type:0},ref:{type:0},vnref:{type:0},updateStrategy:{type:0},id:{type:1},class:{type:1},style:{type:1,set:function(t,e,s){"object"==typeof s?r.s_mimcss&&r.s_mimcss.setElementStyle(t,s,1):t.setAttribute(e,s)},diff:function(t,e,s){if(e===s)return;if("object"!=typeof e&&"object"!=typeof s||r.s_mimcss){if("object"==typeof e&&"object"==typeof s){let t=r.s_mimcss.diffStylesets(e,s);return null==t?void 0:t}if("string"==typeof e&&"string"==typeof s)return s;if("string"==typeof e){let t=r.s_mimcss.stylesetToString(s);return e!==t?t:void 0}return r.s_mimcss.stylesetToString(e)!==s?s:void 0}return},update:function(t,e,s){"object"==typeof s?r.s_mimcss&&r.s_mimcss.setElementStringStyle(t,s,1):t.setAttribute(e,s)}},media:{type:1,set:function(t,e,s){"object"==typeof s?r.s_mimcss&&(t[e]=r.s_mimcss.setElementStringStyle(t,s,1)):t[e]=s},diff:function(t,e,s){if(e===s)return;if(("object"==typeof e||"object"==typeof s)&&!r.s_mimcss)return;let n="object"==typeof e?r.s_mimcss.mediaQueryToString(e):e,i="object"==typeof s?r.s_mimcss.mediaQueryToString(e):s;return i===n?void 0:i},update:function(t,e,s){t[e]=s}},value:{type:1,set:o,diff:function(t,e,s){return s},remove:function(t,e){t.value=null}},defaultValue:{type:1,set:o,diff:l,remove:u},checked:{type:1,set:c,diff:function(t,e,s){return s},remove:function(t,e){t.checked=!1}},defaultChecked:{type:1,set:c,diff:l,remove:u},click:{type:2,schedulingType:2},mousemove:{type:2,schedulingType:1},mouseover:{type:2,schedulingType:1},pointermove:{type:2,schedulingType:1},pointerover:{type:2,schedulingType:1},input:{type:2,schedulingType:1},scroll:{type:2,schedulingType:1},touchmove:{type:2,schedulingType:1},wheel:{type:2,schedulingType:1}};function i(t){return"string"==typeof t?t:Array.isArray(t)?t.map(t=>i(t)).filter(t=>!!t).join(" "):null==t?"":t.toString()}function o(t,e,s){t.value=s}function l(t,e,s){}function u(t,e){}function c(t,e,s){t.checked=s}e.registerElmProp=function(t,e){if(t in n)throw new Error(`Attribute ${t} is already registered.`);n[t]=e},e.getElmPropInfo=function(t){return n[t]},e.setElmProp=function(t,e,s,r){if(s){let n=s.attrName||e;s.set?s.set(t,n,r):t.setAttribute(n,i(r))}else t.setAttribute(e,i(r))},e.updateElmProp=function(t,e,s,r,n){if(!s)return r!==n&&(t.setAttribute(e,i(n)),!0);let o;if(s.diff){if(o=s.diff(e,r,n),void 0===o)return!1}else{if(r===n)return!1;o=n}let l=s.attrName||e;return s.update?s.update(t,l,o):(s.remove&&!s.set&&s.remove(t,l),s.set?s.set(t,l,o):t.setAttribute(l,i(o))),!0},e.removeElmProp=function(t,e,s){if(s){let r=s.attrName||e;s.remove?s.remove(t,r):t.removeAttribute(r)}else t.removeAttribute(e)}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VN=void 0;const r=s(1),n=s(0);e.VN=class{constructor(){}get isMounted(){return null!=this.anchorDN}getFirstDN(){if(!this.subNodes)return null;let t;for(let e of this.subNodes)if(t=e.getFirstDN())return t;return null}getLastDN(){if(!this.subNodes)return null;let t;for(let e=this.subNodes.length-1;e>=0;e--)if(t=this.subNodes[e].getLastDN())return t;return null}getImmediateDNs(){if(!this.subNodes)return null;let t=[];return this.subNodes.forEach(e=>e.collectImmediateDNs(t)),0===t.length?null:t}collectImmediateDNs(t){this.subNodes&&this.subNodes.forEach(e=>e.collectImmediateDNs(t))}get depth(){let t=0;for(let e=this.parent;e;e=e.parent)t++;return t}requestUpdate(t,e){this.updateRequested||(n.requestNodeUpdate(this,t,e),this.updateRequested=!0)}requestPartialUpdate(t){this.partialUpdateRequested||(n.requestNodeUpdate(this,void 0,t),this.partialUpdateRequested=!0)}publishService(t,e){void 0===this.publishedServices&&(this.publishedServices=new Map),this.publishedServices.get(t)!==e&&(this.publishedServices.set(t,e),n.notifyServicePublished(t,this))}unpublishService(t){void 0!==this.publishedServices&&(this.publishedServices.delete(t),n.notifyServiceUnpublished(t,this),0===this.publishedServices.size&&(this.publishedServices=void 0))}subscribeService(t,e,s,o){void 0===this.subscribedServices&&(this.subscribedServices=new Map);let l=new i;l.ref=e,l.defaultService=s,l.useSelf=!!o,this.subscribedServices.set(t,l),n.notifyServiceSubscribed(t,this),r.setRef(e,this.getService(t,s))}unsubscribeService(t){if(void 0===this.subscribedServices)return;let e=this.subscribedServices.get(t);void 0!==e&&(r.setRef(e.ref,void 0),this.subscribedServices.delete(t),n.notifyServiceUnsubscribed(t,this),0===this.subscribedServices.size&&(this.subscribedServices=void 0))}getService(t,e,s){let r=this.findService(t,s);return void 0!==r?r:e}findService(t,e){if(e&&void 0!==this.publishedServices){let e=this.publishedServices.get(t);if(void 0!==e)return e}return this.parent?this.parent.findService(t,!0):void 0}notifyServiceChanged(t){if(void 0===this.subscribedServices)return;let e=this.subscribedServices.get(t);void 0!==e&&r.setRef(e.ref,this.getService(t,e.defaultService))}};class i{}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassCompVN=void 0;const r=s(1),n=s(2),i=s(0);class o extends i.VN{mount(){let t=this.comp;t.vn=this;let e=t.willMount;if(e){let s=i.setCurrentClassComp(t);e.call(t),i.setCurrentClassComp(s)}let s=t.render;s[r.symRenderNoWatcher]?this.actRender=s.bind(t):this.actRender=this.renderWatcher=n.createWatcher(s,this.requestUpdate,t,this),t.handleError&&(this.supportsErrorHandling=!0),this.comp.getUpdateStrategy&&(this.updateStrategy=t.getUpdateStrategy())}unmount(){let t=this.comp,e=t.willUnmount;if(e)try{let s=i.setCurrentClassComp(t);e.call(t),i.setCurrentClassComp(s)}catch(t){console.error(`Exception in willUnmount of component '${this.name}'`,t)}this.renderWatcher&&(this.renderWatcher.dispose(),this.renderWatcher=null),t.vn=void 0}render(){let t=i.setCurrentClassComp(this.comp),e=this.actRender();return i.setCurrentClassComp(t),e}handleError(t){let e=i.setCurrentClassComp(this.comp),s=this.comp.handleError(t);return i.setCurrentClassComp(e),s}}e.ClassCompVN=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndependentCompVN=void 0;const r=s(0);class n extends r.ClassCompVN{constructor(t){super(),this.comp=this.key=t}get name(){return this.comp.displayName?this.comp.displayName:this.comp.constructor.name}isUpdatePossible(t){return this.comp.constructor===t.comp.constructor}update(t){return this.comp!==t.comp&&(this.unmount(),this.oldComp=this.comp,this.comp=this.key=t.comp,this.mount(),!0)}didUpdate(){if(this.oldComp){let t=this.comp.didReplace;t&&t.call(this.comp,this.oldComp),this.oldComp=void 0}}}e.IndependentCompVN=n,n.prototype.ignoreUnmount=!1},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ManagedCompVN=void 0;const r=s(1),n=s(0);class i extends n.ClassCompVN{constructor(t,e,s){super(),this.compClass=t,e?(e.children=s,this.props=e,this.key=e.key):this.props={children:s}}get name(){if(this.comp&&this.comp.displayName)return this.comp.displayName;{let t=this.compClass.name;return null!=this.key&&(t+="@"+this.key),t}}mount(){this.comp=new this.compClass(this.props),super.mount(),this.ref&&(r.setRef(this.ref,this.comp),delete this.props.ref),null!=this.key&&delete this.props.key}unmount(){this.ref&&r.setRef(this.ref,void 0,this.comp),super.unmount(),this.comp=null}isUpdatePossible(t){return this.compClass===t.compClass}update(t){let e=this.comp.shouldUpdate&&this.comp.shouldUpdate(t.props);return t.ref!==this.ref?(this.ref=t.ref,this.ref&&r.setRef(this.ref,this.comp)):this.ref&&r.setRef(this.ref,void 0,this.comp),this.key=t.key,this.comp.props=this.props=t.props,e}}e.ManagedCompVN=i,i.prototype.didUpdate=void 0,i.prototype.ignoreUnmount=!1},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElmVN=void 0;const r=s(1),n=s(0);class i extends n.VN{constructor(t,e,s,r){super(),this.creator=t,this.elmName=e,this.props=s,this.subNodes=r,this.key=s&&(s.key||s.id)}get elm(){return this.ownDN}get name(){let t=this.elmName;return null!=this.key&&(t+="@"+this.key),t}getFirstDN(){return this.ownDN}getLastDN(){return this.ownDN}getImmediateDNs(){return this.ownDN}collectImmediateDNs(t){t.push(this.ownDN)}setProps(t,e){t&&(this.propsForPartialUpdate?Object.assign(this.propsForPartialUpdate,t):this.propsForPartialUpdate=t,e&&2!==e?this.requestPartialUpdate():(this.updatePropsOnly(this.propsForPartialUpdate),this.propsForPartialUpdate=null))}setChildren(t,e,s,r,n,i){this.doChildrenOp({op:1,content:t,startIndex:e,endIndex:s,update:r,updateStrategy:n},i)}spliceChildren(t,e,s,r){this.doChildrenOp({op:3,index:t,countToDelete:e,contentToInsert:s},r)}moveChildren(t,e,s,r){this.doChildrenOp({op:4,index:t,count:e,shift:s},r)}swapChildren(t,e,s,r,n){this.doChildrenOp({op:5,index1:t,count1:e,index2:s,count2:r},n)}sliceChildren(t,e,s){this.doChildrenOp({op:2,startIndex:t,endIndex:e},s)}trimChildren(t,e,s){this.doChildrenOp({op:6,startCount:t,endCount:e},s)}growChildren(t,e,s){this.doChildrenOp({op:7,startContent:t,endContent:e},s)}reverseChildren(t,e,s){this.doChildrenOp({op:8,startIndex:t,endIndex:e},s)}doChildrenOp(t,e){2===e?n.syncUpdate(this,t):this.requestUpdate(t)}clone(){let t=new i(this.creator,this.elmName,this.props,this.subNodes);return t.clonedFrom=this,t}mount(){var t;let e=this.clonedFrom;if(e&&e.ownDN)this.ownDN=e.ownDN.cloneNode(!1),this.attrs=e.attrs,this.events=e.events,this.customAttrs=e.customAttrs,this.clonedFrom=null;else{let e=null===(t=this.props)||void 0===t?void 0:t.xmlns;if(e)this.ownDN=document.createElementNS(e,this.elmName);else{let t=u[this.elmName];if("number"==typeof t)switch(t){case 1:this.ownDN=document.createElement(this.elmName);break;case 2:this.ownDN=document.createElementNS(o,this.elmName);break;case 3:this.ownDN=document.createElementNS(l,this.elmName)}else this.ownDN=t?document.createElementNS(t.ns,t.name||this.elmName):document.createElementNS(this.anchorDN.namespaceURI,this.elmName)}this.props&&(this.parseProps(this.props),this.attrs&&this.addAttrs())}this.events&&this.addEvents(),this.customAttrs&&this.addCustomAttrs(),this.ref&&r.setRef(this.ref,this.ownDN),this.vnref&&r.setRef(this.vnref,this)}unmount(){this.ref&&r.setRef(this.ref,void 0,this.ownDN),this.vnref&&r.setRef(this.vnref,void 0,this),this.customAttrs&&this.removeCustomAttrs()}isUpdatePossible(t){return this.elmName===t.elmName}update(t){return this.creator===t.creator&&n.s_deepCompare(this.props,t.props,3)||(t.props&&t.parseProps(t.props),t.ref!==this.ref&&(this.ref=t.ref,this.vnref=t.vnref,this.ref&&r.setRef(this.ref,this.ownDN),this.vnref&&r.setRef(this.vnref,this)),this.props=t.props,this.key=t.key,this.updateStrategy=t.updateStrategy,this.updateAttrs(t.attrs),this.updateEvents(t.events),this.updateCustomAttrs(t.customAttrs)),null!=this.subNodes||null!=t.subNodes}performPartialUpdate(){this.updatePropsOnly(this.propsForPartialUpdate),this.propsForPartialUpdate=void 0}updatePropsOnly(t){for(let e in t){let s=t[e],i=n.getElmPropInfo(e),o=i?i.type:"function"==typeof s||"object"==typeof s?2:1;1===o?this.updateAttrOnly(e,i,s):2===o?this.updateEventOnly(e,i,s):3===o?this.updateCustomAttrOnly(e,i,s):"key"===e?this.key=s:"ref"===e?s!==this.ref&&(this.ref=s,s&&r.setRef(this.ref,this.ownDN)):"vnref"===e?s!==this.vnref&&(this.vnref=s,s&&r.setRef(this.vnref,this)):"updateStrategy"===e&&(this.updateStrategy=s)}}parseProps(t){for(let e in t){let s=t[e];if(null!=s&&!1!==s){let t=n.getElmPropInfo(e),r=t?t.type:"function"==typeof s||"object"==typeof s?2:1;if(1===r)this.attrs||(this.attrs={}),this.attrs[e]={info:t,val:s};else if(2===r){let r=this.getEventRTD(t,s);r&&(this.events||(this.events={}),this.events[e]=r)}else 0===r?("ref"===e&&(this.ref=s),"vnref"===e?this.vnref=s:"updateStrategy"===e&&(this.updateStrategy=s)):(this.customAttrs||(this.customAttrs={}),this.customAttrs[e]={info:t,val:s,handler:void 0})}}}addAttrs(){for(let t in this.attrs){let e=this.attrs[t];n.setElmProp(this.ownDN,t,e.info,e.val)}}updateAttrs(t){let e=this.ownDN,s=this.attrs;if(s)for(let r in s){let i=s[r],o=t?t[r]:void 0;o&&o.val?i.val!==o.val&&n.updateElmProp(e,r,i.info,i.val,o.val):n.removeElmProp(e,r,i.info)}if(t)for(let r in t){if(s&&r in s)continue;let i=t[r];n.setElmProp(e,r,i.info,i.val)}this.attrs=t}updateAttrOnly(t,e,s){let r=this.attrs&&this.attrs[t];null==s||!1===s?r&&(n.removeElmProp(this.ownDN,t,e),delete this.attrs[t]):r?(n.updateElmProp(this.ownDN,t,e,r.val,s),r.val=s):(n.setElmProp(this.ownDN,t,e,s),this.attrs||(this.attrs={}),this.attrs[t]={info:e,val:s})}addEvents(){for(let t in this.events)this.addEvent(t,this.events[t])}addEvent(t,e){e.wrapper=n.s_wrapCallback(e),this.ownDN.addEventListener(t,e.wrapper,e.useCapture)}removeEvent(t,e){this.ownDN.removeEventListener(t,e.wrapper,e.useCapture)}updateEvents(t){let e=this.events;if(e)for(let s in e){let r=e[s],n=t?t[s]:void 0;n?this.updateEvent(s,r,n):this.removeEvent(s,r)}if(t)for(let s in t)e&&s in e||this.addEvent(s,t[s]);this.events=t}updateEvent(t,e,s){e.func===s.func&&e.funcThisArg===s.funcThisArg&&e.arg===s.arg&&e.useCapture==s.useCapture?s.wrapper=e.wrapper:(this.ownDN.removeEventListener(t,e.wrapper,e.useCapture),s.wrapper=n.s_wrapCallback(s),this.ownDN.addEventListener(t,s.wrapper,s.useCapture))}updateEventOnly(t,e,s){let r=this.events&&this.events[t],n=null!=s&&this.getEventRTD(e,s);n?r?(this.updateEvent(t,r,n),this.events[t]=n):(this.addEvent(t,n),this.events||(this.events={}),this.events[t]=n):r&&(this.removeEvent(t,r),delete this.events[t])}getEventRTD(t,e){return"function"==typeof e?{func:e,funcThisArg:this.creator,schedulingType:t?t.schedulingType:void 0,creator:this.creator}:{func:e.func,funcThisArg:e.funcThisArg?e.funcThisArg:this.creator,arg:e.arg,schedulingType:e.schedulingType?e.schedulingType:t?t.schedulingType:void 0,creator:e.creator?e.creator:this.creator,useCapture:e.useCapture}}addCustomAttrs(){for(let t in this.customAttrs){let e=this.customAttrs[t];this.addCustomAttr(t,e)||delete this.customAttrs[t]}}addCustomAttr(t,e){try{return e.handler=new e.info.handlerClass(this,e.val,t),!0}catch(e){return console.error(`Error creating handler for custom attribute '${t}': ${e.message}`),!1}}removeCustomAttrs(){for(let t in this.customAttrs)this.removeCustomAttr(t,this.customAttrs[t],!0)}removeCustomAttr(t,e,s){try{e.handler.terminate(s)}catch(e){console.error(`Error terminating handler for custom attribute '${t}': ${e.message}`)}}updateCustomAttrs(t){let e=this.customAttrs;if(e)for(let s in e){const r=e[s],n=t?t[s]:void 0;n?(this.updateCustomAttr(s,r,n),n.handler=r.handler):this.removeCustomAttr(s,r,!1)}if(t)for(let s in t){if(e&&s in e)continue;let r=t[s];this.addCustomAttr(s,r)||delete t[s]}this.customAttrs=t}updateCustomAttr(t,e,s){try{e.handler.update(s.val)}catch(e){console.error(`Error updating handler for custom attribute '${t}': ${e.message}`)}}updateCustomAttrOnly(t,e,s){let r=this.customAttrs&&this.customAttrs[t],n=null!=s&&{info:e,val:s,handler:void 0};n?r?(this.updateCustomAttr(t,r,n),r.val=s):(this.addCustomAttr(t,n),this.customAttrs||(this.customAttrs={}),this.customAttrs[t]=n):r&&(this.removeCustomAttr(t,r,!1),delete this.customAttrs[t])}}e.ElmVN=i,i.prototype.render=void 0,i.prototype.didUpdate=void 0,i.prototype.supportsErrorHandling=!1,i.prototype.ignoreUnmount=!1;let o="http://www.w3.org/2000/svg",l="http://www.w3.org/1998/Math/MathML",u={div:1,span:1,tr:1,td:1,svg:2,colorProfile:{ns:o,name:"color-profile"},math:3}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FuncProxyVN=void 0;const r=s(1),n=s(0);let i=Symbol("symFuncsToNodes");class o extends n.VN{constructor(t,e,s,r,n){super(),this.creator=t,this.func=e,this.funcThisArg=s,this.arg=r,this.key=n||r}get name(){let t=this.func.name;return null!=this.key&&(t+="@"+this.key),t}mount(){this.funcThisArg||(this.funcThisArg=this.creator),this.linkNodeToFunc();let t=this.func;t[r.symRenderNoWatcher]?this.actFunc=t.bind(this.funcThisArg):this.actFunc=this.funcWatcher=n.createWatcher(t,this.requestUpdate,this.funcThisArg,this)}unmount(){this.funcWatcher&&(this.funcWatcher.dispose(),this.funcWatcher=null),this.unlinkNodeFromFunc(),this.actFunc=void 0}render(){let t=n.setCurrentClassComp(this.creator),e=this.actFunc(this.arg);return n.setCurrentClassComp(t),e}update(t){return this.key=t.key,this.func===t.func&&this.funcThisArg===t.funcThisArg?this.arg!==t.arg&&(this.arg=t.arg,!0):(this.unmount(),this.func=t.func,this.funcThisArg=t.funcThisArg,this.arg=t.arg,this.mount(),!0)}linkNodeToFunc(){if(!this.funcThisArg)return;let t=this.funcThisArg[i];t||(t=new Map,this.funcThisArg[i]=t),t.set(this.func,this)}unlinkNodeFromFunc(){if(!this.funcThisArg)return;let t=this.funcThisArg[i];t&&t.delete(this.func)}static findVN(t,e,s){if(!e)return null;let r=e[i];return r&&r.get(t)}static update(t,e,s){let r=o.findVN(t,e,s);r&&r.requestUpdate()}}e.FuncProxyVN=o,o.prototype.isUpdatePossible=void 0,o.prototype.didUpdate=void 0,o.prototype.supportsErrorHandling=!1,o.prototype.ignoreUnmount=!1},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseProxyVN=void 0;const r=s(0);class n extends r.VN{constructor(t,e){super(),this.promise=t.promise,this.errorContentFunc=t.errorContentFunc,this.content=e,this.key=t.key}get isSettled(){return null==this.promise}get name(){let t="Promise";return null!=this.key&&(t+="@"+this.key),t}mount(){this.watchPromise()}render(){return this.content}isUpdatePossible(t){return this.promise===t.promise}update(t){return this.key=t.key,this.content=t.content,this.errorContentFunc=t.errorContentFunc,!0}async watchPromise(){try{this.content=await this.promise,this.promise=null,this.isMounted&&this.requestUpdate()}catch(t){if(this.promise=null,this.content=null,!this.isMounted)return;if(this.errorContentFunc)try{this.content=this.errorContentFunc(t)}catch(t){console.warn("Unhandled rejected promise:",t)}else console.warn("Unhandled rejected promise:",t);this.requestUpdate()}}}e.PromiseProxyVN=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextVN=void 0;const r=s(0);class n extends r.VN{constructor(t){super(),this.text=t}get textNode(){return this.ownDN}get name(){return"#text"}getFirstDN(){return this.ownDN}getLastDN(){return this.ownDN}getImmediateDNs(){return this.ownDN}collectImmediateDNs(t){t.push(this.ownDN)}setText(t,e){t!==this.text&&(e&&2!==e?(this.textForPartialUpdate=t,super.requestPartialUpdate()):this.ownDN.nodeValue=this.text=t)}mount(){this.ownDN=document.createTextNode(this.text)}update(t){return this.text!==t.text&&(this.ownDN.nodeValue=this.text=t.text),!1}performPartialUpdate(){this.ownDN.nodeValue=this.text=this.textForPartialUpdate,this.textForPartialUpdate=void 0}}e.TextVN=n,n.prototype.unmount=void 0,n.prototype.render=void 0,n.prototype.isUpdatePossible=void 0,n.prototype.didUpdate=void 0,n.prototype.ignoreUnmount=!1},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmountRoot=e.mountRoot=e.RootVN=void 0;const r=s(0);class n extends r.VN{constructor(t){super(),this.error=!1,this.waiting=!1,this.thrownPromises=new Set,this.anchorDN=t,this.supportsErrorHandling=!0}get name(){return"Root"}setContent(t,e){this.content=t,this.requestUpdate()}render(){return this.error||this.waiting?null:this.content}willMount(){this.publishService("StdErrorHandling",this)}willUnmount(){this.unpublishService("StdErrorHandling")}handleError(t){if(t instanceof Promise){let e=t;this.thrownPromises.add(e),e.then(()=>{this.onPromiseFulfilled(e)}),e.catch(()=>{this.onPromiseFulfilled(e)}),this.waiting=!0}else console.error("Unhandled error\n",t),this.error=!0;return null}restart(){this.error=!1,this.requestUpdate()}reportError(t){this.handleError(t),this.requestUpdate()}onPromiseFulfilled(t){this.thrownPromises.delete(t),0===this.thrownPromises.size&&(this.waiting=!1,this.requestUpdate())}}e.RootVN=n;let i=Symbol("symRootMountPoint");e.mountRoot=function(t,e){let s=e||document.body,r=s[i];r||(r=new n(s),s[i]=r,r.willMount()),r.setContent(t,!1)},e.unmountRoot=function(t){let e=t||document.body;if(!e)return;let s=e[i];s&&(delete e[i],s.setContent(null,!1),r.scheduleFuncCall(()=>s.willUnmount(),!1))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s_initStyleScheduler=e.s_mimcss=void 0;const r=s(0);e.s_initStyleScheduler=async function(){try{e.s_mimcss=await Promise.resolve().then(()=>s(18))}catch(t){}if(e.s_mimcss){let t=e.s_mimcss.registerScheduler(new n);return e.s_mimcss.setDefaultScheduler(t),t}return 0};class n{init(t){this.doDOMUpdate=t}scheduleDOMUpdate(){r.scheduleFuncCall(this.onUpdate,!1,this)}cancelDOMUpdate(){}onUpdate(){this.doDOMUpdate()}}},function(e,s){e.exports=t},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notifyServiceUnsubscribed=e.notifyServiceSubscribed=e.notifyServiceUnpublished=e.notifyServicePublished=void 0;class r{constructor(){this.publishingVNs=new Set,this.subscribedVNs=new Set}}let n=new Map;e.notifyServicePublished=function(t,e){let s=n.get(t);void 0===s&&(s=new r,n.set(t,s)),s.publishingVNs.add(e);for(let e of s.subscribedVNs)e.notifyServiceChanged(t)},e.notifyServiceUnpublished=function(t,e){let s=n.get(t);if(void 0!==s)if(s.publishingVNs.delete(e),0===s.publishingVNs.size&&0===s.subscribedVNs.size)n.delete(t);else for(let e of s.subscribedVNs)e.notifyServiceChanged(t)},e.notifyServiceSubscribed=function(t,e){let s=n.get(t);void 0===s&&(s=new r,n.set(t,s)),s.subscribedVNs.add(e)},e.notifyServiceUnsubscribed=function(t,e){let s=n.get(t);void 0!==s&&(s.subscribedVNs.delete(e),0===s.publishingVNs.size&&0===s.subscribedVNs.size&&n.delete(t))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.symJsxToVNs=e.symToVNs=e.syncUpdate=e.scheduleFuncCall=e.requestNodeUpdate=e.s_wrapCallback=e.s_getCallbackArg=e.setCurrentClassComp=void 0;const r=s(1),n=s(0);let i,o=new Map,l=new Map,u=new Map,c=0,a=!1,h=0,d=0,f=!1,p=null;function m(t){return g.bind(t)}function g(){let t=p;p=this.creator,n.enterMutationScope();let e,s=this.schedulingType||2;f=1!==s,i=this.arg;try{e=this.func.apply(this.funcThisArg,arguments)}finally{n.exitMutationScope(),i=void 0,f=!1,p=t}return s&&y(s),e}function y(t=4){switch(t){case 2:N();break;case 3:a||(queueMicrotask(N),a=!0);break;case 4:0===c&&(c=requestAnimationFrame(v))}}function v(){c=0,N()}function N(){if(0!==c&&(cancelAnimationFrame(c),c=0),a=!1,l.size>0){h=1;let t=l;l=new Map,b(t,!0)}if(o.size>0){d++,h=2;let t=o;o=new Map,t.forEach((t,e)=>{if(e.anchorDN)try{if(e.partialUpdateRequested&&(e.partialUpdateRequested=!1,e.performPartialUpdate()),e.updateRequested){if(e.updateRequested=!1,e.lastUpdateTick===d)return;w(e,t)}}catch(t){let s=e.getService("StdErrorHandling");s?s.reportError(t):console.error("BUG: updateNode threw exception but StdErrorHandling service was not found.",t)}})}if(u.size>0){h=3;let t=u;u=new Map,b(t,!1)}h=0}function b(t,e){t.forEach(t=>{try{t()}catch(t){console.error(`Exception while invoking function ${e?"before":"after"} updating components\n`,t)}})}function w(t,e){if(e)switch(e.op){case 1:!function(t,e){let s=t.subNodes,r=s?s.length:0,n=e.startIndex||0,i=e.endIndex||r;(i<0||i>r)&&(i=r);if(e.update)return void A(t,{oldVN:t,oldStartIndex:n,odlEndIndex:i,updateStrategy:e.updateStrategy},O(e.content));let o=i-n;if(o<r)x(t,{index:n,countToDelete:o,contentToInsert:e.content});else{let r=t.ownDN;s&&(r&&(r.textContent=null),s.forEach(t=>{T(t,!r)}));let n=e.content&&O(e.content);if(n){let e=r||t.anchorDN,s=r?null:j(t,e);V(t,n,e,s)}t.subNodes=n}}(t,e);break;case 3:x(t,e);break;case 4:!function(t,e){if(0===e.shift||0===e.count)return;let s,r,n,i,o=t.subNodes;o&&o.length;e.shift<0?(s=e.index+e.shift,r=-e.shift,n=e.index,i=e.count):(s=e.index,r=e.count,n=s+r,i=e.shift);C(t,{index1:s,count1:r,index2:n,count2:i})}(t,e);break;case 5:C(t,e);break;case 2:E(t,e);break;case 6:!function(t,e){let s=t.subNodes;if(!s)return;E(t,{startIndex:e.startCount,endIndex:s.length-e.endCount})}(t,e);break;case 7:!function(t,e){let s=e.startContent&&O(e.startContent),r=e.endContent&&O(e.endContent);if(!s&&!r)return;let n=t.subNodes,i=t.ownDN,o=i||t.anchorDN;if(!n){t.subNodes=s&&r?s.concat(r):s||r;let e=i?null:j(t,o);return void V(t,t.subNodes,o,e)}if(t.subNodes=s&&r?s.concat(n,r):s?s.concat(n):n.concat(r),s){let e=n[0].getFirstDN();V(t,s,o,e);let r=s.length;n.forEach(t=>t.index+=r)}r&&V(t,r,o,i?null:j(t,o),t.subNodes.length-r.length)}(t,e);break;case 8:!function(t,e){let s=t.subNodes;if(!s)return;let r,n,i,o=s.length,l=e.startIndex||0,u=null!=e.endIndex?Math.min(e.endIndex,o):o,c=t.ownDN,a=c||t.anchorDN,h=u===o?c?null:j(t,a):s[u].getFirstDN();for(let t=u-2;t>=l;t--)r=s[t],M(r,a,h);for(let t=l,e=u-1;t<e;t++,e--)r=s[t],n=s[e],s[t]=n,s[e]=r,i=r.index,r.index=n.index,n.index=i}(t,e)}else S({oldVN:t});p=null}function S(t){let e=t.oldVN,s=e.render;A(e,t,s?O(s.call(e)):t.newVN.subNodes)}function x(t,e){let s=t.subNodes,r=s?s.length:0,n=e.index,i=e.countToDelete||0;i=Math.min(e.countToDelete,r-n);let o=e.contentToInsert&&O(e.contentToInsert);if(0!==i||o){if(i>0){let t=n+i;for(let e=n;e<t;e++)T(s[e],!0)}if(o){s?s.splice(n,i,...o):t.subNodes=s=o;let e=t.ownDN,r=e||t.anchorDN,l=n+o.length<s.length?s[n+o.length].getFirstDN():e?null:j(t,r),u=n+o.length;for(let e=n;e<u;e++)D(s[e],t,e,r,l)}else i>0&&s.splice(n,i)}}function C(t,e){let s,r,n,i,o=t.subNodes;o&&o.length;e.index1<e.index2?(s=e.index1,r=e.count1,n=e.index2,i=e.count2):(s=e.index2,r=e.count2,n=e.index1,i=e.count1);let l=s+r,u=n-l,c=t.ownDN,a=c||t.anchorDN;if(0===u?r<i?P(t,o,s,r,n+i,a):P(t,o,n,i,s,a):r<=i&&i<=u?(P(t,o,s,r,n,a),P(t,o,n,i,l,a)):r<=i&&u<=i?(P(t,o,s,r,n+i,a),P(t,o,l,u,s,a)):(P(t,o,n,i,s,a),P(t,o,l,u,s,a)),r===i)for(let t=0;t<r;t++){let e=s+t,r=n+t,i=o[e],l=o[r];o[e]=l,l.index=e,o[r]=i,i.index=r}else{let t,e=r+i+u,c=new Array(e),a=0,h=n+i;for(let t=n;t<h;t++)c[a++]=o[t];if(u>0){h=l+u;for(let t=l;t<h;t++)c[a++]=o[t]}h=s+r;for(let t=s;t<h;t++)c[a++]=o[t];a=s;for(let s=0;s<e;s++)t=c[s],t.index=a,o[a++]=t}}function P(t,e,s,r,n,i){let o;o=n==e.length?t.ownDN?null:j(t,i):e[n].getFirstDN();for(let t=0;t<r;t++)M(e[s+t],i,o)}function E(t,e){let s=t.subNodes;if(!s)return;let r=s.length,n=e.startIndex||0,i=null!=e.endIndex?Math.min(e.endIndex,r):r;if(i-n!==r){if(i<=n){let e=t.ownDN;return e&&(e.textContent=null),s.forEach(t=>{T(t,!e)}),void(t.subNodes=null)}if(n>0)for(let t=0;t<n;t++)T(s[t],!0);if(i<r)for(let t=i;t<r;t++)T(s[t],!0);t.subNodes=s.slice(n,i),t.subNodes.forEach((t,e)=>{t.index=e})}}function D(t,e,s,r,n){if(t.anchorDN){let i=t.clone,o=i?i.call(t):t;if(o===t)return t.ignoreUnmount=!0,t.parent=e,t.anchorDN=r,t.index=s,M(t,r,n),t;e.subNodes[s]=o,t=o}t.parent=e,t.anchorDN=r,t.index=s;let i=t.mount;i&&i.call(t);let o=t.ownDN;return i=t.render,i&&(t.subNodes=O(i.call(t))),t.subNodes&&V(t,t.subNodes,o||r,o?null:n),o&&r.insertBefore(o,n),t}function V(t,e,s,r,n){if(t.supportsErrorHandling)try{n?e.forEach((e,i)=>D(e,t,n+i,s,r)):e.forEach((e,n)=>D(e,t,n,s,r))}catch(e){let n=O(t.handleError(e));t.subNodes&&(t.ownDN&&(t.ownDN.textContent=null),t.subNodes.forEach(e=>T(e,!t.ownDN))),n&&(t.subNodes=n,n.forEach((e,n)=>D(e,t,n,s,r)))}else n?e.forEach((e,i)=>D(e,t,n+i,s,r)):e.forEach((e,n)=>D(e,t,n,s,r))}function T(t,e){if(t.ignoreUnmount)return void(t.ignoreUnmount=!1);let s=t.ownDN,r=t.unmount;if(r&&r.call(t),s&&(t.ownDN=null,e&&s.remove()),t.subNodes){let r=e&&!s;t.subNodes.forEach(t=>T(t,r)),t.subNodes=null}t.anchorDN=null,t.parent=null}function A(t,e,s,r=!0){if(function(t,e){let s=t.oldVN.subNodes,r=t.oldStartIndex||(t.oldStartIndex=0),n=t.odlEndIndex||(t.odlEndIndex=s?s.length:0),i=t.oldLength=n-r,o=e?e.length:0;if(0===o&&0===i)return void(t.noChanges=!0);if(t.allSubNodesProcessed=i===(s?s.length:0),0===o||0===i)return void(t.replaceAllSubNodes=!0);let l,u=t.updateStrategy||t.oldVN.updateStrategy,c=!(null==u?void 0:u.disableKeyedNodeRecycling),a=null==u?void 0:u.ignoreKeys;if(1===o&&1===i){let n=s[r],i=e[0];return void(n===i?t.noChanges=!0:!c&&!a&&i.key!==n.key||n.constructor!==i.constructor||n.isUpdatePossible&&!n.isUpdatePossible(i)?t.replaceAllSubNodes=!0:t.subNodeDisps=[{oldVN:n,newVN:i,action:2}])}if(t.subNodeDisps=new Array(o),a)l=R(t,s,e);else{let i,o,u=new Map,a=[];for(let t=r;t<n;t++)i=s[t],o=i.key,null==o||u.has(o)?a.push(i):u.set(o,i);l=0===u.size?R(t,a,e):c?function(t,e,s,r){let n,i,o,l=t.subNodeDisps,u=[],c=s.length,a=0,h=!1,d=[];if(r.forEach((t,r)=>{o=t.key,i=null,null!=o&&(i=e.get(o),i&&e.delete(o)),i||a==c||(i=s[a++]),l[r]=n={newVN:t},i?i===t?(n.action=3,n.oldVN=i,h=!0):i.constructor!==t.constructor||i.isUpdatePossible&&!i.isUpdatePossible(t)?(n.action=1,u.push(i)):(n.action=2,n.oldVN=i,h=!0):(n.action=1,d.push(n))}),e.size>0){let t,s=d.length,r=0;e.forEach(e=>{n=r<s?d[r++]:null,n?(t=n.newVN,e===t?(n.action=3,n.oldVN=e,h=!0):e.constructor!==t.constructor||void 0!==e.isUpdatePossible&&!e.isUpdatePossible(t)?u.push(e):(n.action=2,n.oldVN=e,h=!0)):u.push(e)})}if(h)for(let t=a;t<c;t++)u.push(s[t]);u.length>0&&(t.subNodesToRemove=u);return h}(t,u,a,e):function(t,e,s,r){let n,i,o,l=t.subNodeDisps,u=[],c=s.length,a=0,h=!1;if(r.forEach((t,r)=>{o=t.key,i=null,null!=o&&(i=e.get(o),i&&e.delete(o)),i||o||a==c||(i=s[a++]),l[r]=n={newVN:t},i?i===t?(n.action=3,n.oldVN=i,h=!0):o!==i.key||i.constructor!==t.constructor||i.isUpdatePossible&&!i.isUpdatePossible(t)?(n.action=1,u.push(i)):(n.action=2,n.oldVN=i,h=!0):n.action=1}),h){e.forEach(t=>u.push(t));for(let t=a;t<c;t++)u.push(s[t])}u.length>0&&(t.subNodesToRemove=u);return h}(t,u,a,e)}l?o>8&&!t.subNodeGroups&&(t.subNodeGroups=function(t){let e,s,r,n=t.length,i={action:t[0].action,first:0},o=[i];for(let l=1;l<n;l++)s=t[l],e=s.action,e!==i.action?(i.last=l-1,i.count=l-i.first,i={action:e,first:l},o.push(i)):1!==e&&(r=t[l-1].oldVN,r&&r.index+1===s.oldVN.index||(i.last=l-1,i.count=l-i.first,i={action:e,first:l},o.push(i)));return i.last=n-1,i.count=n-i.first,o}(t.subNodeDisps)):t.replaceAllSubNodes=!0}(e,s),e.noChanges)return;let n=t.subNodes;if(n){if(e.replaceAllSubNodes)if(e.allSubNodesProcessed){let e=t.ownDN;e&&(e.textContent=null),n.forEach(t=>{T(t,!e)})}else for(let t=e.oldStartIndex;t<e.odlEndIndex;t++)T(n[t],!0);else if(e.subNodesToRemove)for(let t=0,s=e.subNodesToRemove.length;t<s;t++)T(e.subNodesToRemove[t],!0);if(!s)if(e.allSubNodesProcessed)t.subNodes=null;else{n.splice(e.oldStartIndex,e.oldLength);for(let t=e.oldStartIndex,s=n.length;t<s;t++)n[t].index=t}}if(s){let n=t.ownDN,i=n||t.anchorDN,o=n?null:j(t,i);if(!r||t.supportsErrorHandling)U(t,e,s,i,o);else try{U(t,e,s,i,o)}catch(r){s=t.handleError(r),A(t,{oldVN:e.oldVN},s,!1)}}if(2===e.action){let s=e.newVN.didUpdate;s&&s.call(t)}t.lastUpdateTick=d}function U(t,e,s,r,n){let i=t.subNodes;if(e.replaceAllSubNodes)if(e.allSubNodesProcessed)t.subNodes=s,V(t,s,r,n);else{let o=e.oldStartIndex;i.splice(o,e.oldLength);for(let t=e.oldStartIndex+s.length,r=i.length;t<r;t++)i[t].index=t;V(t,s,r,n,o)}else i?e.oldLength>s.length&&i.splice(s.length):t.subNodes=new Array(s.length),e.subNodeGroups?function(t,e,s,r){let n,i,o,l,u=t.subNodes,c=e.subNodeDisps,a=e.subNodeGroups,h=r;for(let r=a.length-1;r>=0;r--){if(l=a[r],1===l.action){let r=l.last;for(let o=l.first;o<=r;o++){n=c[o],i=n.newVN;let r=e.oldStartIndex+o;u[r]=i,D(i,t,r,s,h)}}else if(2===l.action){let t=l.first;for(let s=l.last;s>=t;s--){n=c[s],i=n.newVN,o=n.oldVN;let t=e.oldStartIndex+s;o.index=t,u[t]=o,o.update(i)&&S(n)}}else{let t=l.first;if(u[e.oldStartIndex+t]!==c[t].oldVN)for(let s=l.last;s>=t;s--){o=c[s].oldVN;let t=e.oldStartIndex+s;o.index=t,u[t]=o}}k(l,c),h=l.firstDN||h}h=r;for(let t=a.length-1;t>0;t--){let e=a[t];if(null!=e.lastDN){if(e.lastDN.nextSibling!==h){let r=a[t-1];e.lastDN.nextSibling===r.firstDN&&e.count>r.count?_(r,c,s,e.firstDN):_(e,c,s,h)}h=e.firstDN}}}(t,e,r,n):function(t,e,s,r){let n=t.subNodes,i=e.subNodeDisps;for(let o=i.length-1;o>=0;o--){let l,u=i[o],c=u.newVN,a=u.oldVN,h=e.oldStartIndex+o;1===u.action?(n[h]=c,l=D(c,t,h,s,r)):(n[h]=l=a,a!==c&&a.update(c)&&S(u),h!==a.index&&M(a,s,r),l.index=h),r=l.getFirstDN()||r}}(t,e,r,n)}function M(t,e,s){let r=t.getImmediateDNs();if(r)if(Array.isArray(r)){if(r[r.length-1].nextSibling===s)return;for(let t of r)e.insertBefore(t,s)}else{if(r.nextSibling===s)return;e.insertBefore(r,s)}}function _(t,e,s,r){let n,i=1===t.action;for(let o=t.first,l=t.last;o<=l;o++)if(n=(i?e[o].newVN:e[o].oldVN).getImmediateDNs(),n)if(Array.isArray(n))for(let t of n)s.insertBefore(t,r);else{if(n.nextSibling===r)return;s.insertBefore(n,r)}}e.setCurrentClassComp=function(t){let e=p;return p=t,e},e.s_getCallbackArg=function(){return i},e.s_wrapCallback=m,e.requestNodeUpdate=function(t,e,s){if(t.anchorDN){if(o.set(t,e),t instanceof n.ClassCompVN){let e=t.comp,s=e.afterUpdate;s&&u.set(s,m({func:s,funcThisArg:e,creator:e})),1!==h&&(s=e.beforeUpdate,s&&l.set(s,m({func:s,funcThisArg:e,creator:e})))}f||1===h||y(s||4)}},e.scheduleFuncCall=function(t,e,s,r,n){e?l.has(t)||(l.set(t,m({func:t,funcThisArg:s,creator:r})),f||y(n||4)):u.has(t)||(u.set(t,m({func:t,funcThisArg:s,creator:r})),f||1===h||2===h||y(n||4))},e.syncUpdate=function(t,e){if(t.anchorDN)try{w(t,e)}catch(e){let s=t.getService("StdErrorHandling");s?s.reportError(e):console.error("BUG: updateNode threw exception but StdErrorHandling service was not found.",e)}};function R(t,e,s){let r,n,i,o=t.oldStartIndex,l=t.oldLength,u=s.length,c=Math.min(l,u),a=t.subNodeDisps,h=[],d=!1;for(let t=0;t<c;t++)n=e[o+t],i=s[t],a[t]=r={newVN:i},n===i?(r.action=3,r.oldVN=n,d=!0):n.constructor!==i.constructor||n.isUpdatePossible&&!n.isUpdatePossible(i)?(r.action=1,h.push(n)):(r.action=2,r.oldVN=n,d=!0);if(d){if(u>c)for(let t=c;t<u;t++)a[t]={newVN:s[t],action:1};if(l>c)for(let t=c;t<l;t++)h.push(e[o+t])}return h.length>0&&(t.subNodesToRemove=h),d}function k(t,e){let s=1===t.action;if(1===t.count){let r=s?e[t.first].newVN:e[t.first].oldVN;t.firstDN=r.getFirstDN(),t.lastDN=r.getLastDN()}else{for(let r=t.first;r<=t.last&&!(t.firstDN=(s?e[r].newVN:e[r].oldVN).getFirstDN());r++);for(let r=t.last;r>=t.first&&!(t.lastDN=(s?e[r].newVN:e[r].oldVN).getLastDN());r--);}}function j(t,e){if(t.ownDN)return null;let s=t.parent;if(!s)return null;let r=s.subNodes;for(let e=t.index+1;e<r.length;e++){let t=r[e];if(!t.anchorDN)return null;const s=t.getFirstDN();if(s)return s}return s.anchorDN!==e||s.ownDN?null:j(s,e)}function O(t){if(null==t)return null;{let s=t[e.symToVNs]();return s?Array.isArray(s)?0===s.length?null:s:[s]:null}}e.symToVNs=Symbol(),Boolean.prototype[e.symToVNs]=function(t){return null},String.prototype[e.symToVNs]=function(t){if(0===this.length)return null;let e=new n.TextVN(this);return t&&t.push(e),e},r.Component.prototype[e.symToVNs]=function(t){let e=this.vn?this.vn:new n.IndependentCompVN(this);return t&&t.push(e),e},Function.prototype[e.symToVNs]=function(t){let e=new n.FuncProxyVN(p,this);return t&&t.push(e),e},Array.prototype[e.symToVNs]=function(t){return 0===this.length?null:(t||(t=[]),this.forEach(s=>{null!=s&&(s instanceof n.VN?t.push(s):s[e.symToVNs](t))}),t.length>0?t:null)},n.VN.prototype[e.symToVNs]=function(t){return t&&t.push(this),this},Promise.prototype[e.symToVNs]=function(t){let e=new n.PromiseProxyVN({promise:this});return t&&t.push(e),e},Object.prototype[e.symToVNs]=function(t){let e=this.toString();if(!e)return null;let s=new n.TextVN(e);return t&&t.push(s),s},e.symJsxToVNs=Symbol(),String.prototype[e.symJsxToVNs]=function(t,s){if(0===s.length)return new n.ElmVN(p,this,t,null);let r=[];return s.forEach(t=>{null!=t&&(t instanceof n.VN?r.push(t):t[e.symToVNs](r))}),new n.ElmVN(p,this,t,r.length>0?r:null)},r.Fragment[e.symJsxToVNs]=function(t,s){if(0===s.length)return new n.ElmVN(p,this,t,null);let r=[];return s.forEach(t=>{null!=t&&(t instanceof n.VN?r.push(t):t[e.symToVNs](r))}),r.length>0?r:null},r.FuncProxy[e.symJsxToVNs]=function(t,e){return new n.FuncProxyVN(p,t.func,t.funcThisArg,t.arg,t.key)},r.PromiseProxy[e.symJsxToVNs]=function(t,e){return t&&t.promise?new n.PromiseProxyVN(t,e):null},r.Component[e.symJsxToVNs]=function(t,e){return new n.ManagedCompVN(this,t,1===e.length&&Array.isArray(e[0])?e[0]:e)},Function.prototype[e.symJsxToVNs]=function(t,s){let r=this(t,1===s.length&&Array.isArray(s[0])?s[0]:s);return r&&r[e.symToVNs]()}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}])}));
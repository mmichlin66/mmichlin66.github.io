!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("mimcss")):"function"==typeof define&&define.amd?define(["mimcss"],e):"object"==typeof exports?exports.mimbl=e(require("mimcss")):t.mimbl=e(t.mimcss)}(this,(function(t){return(()=>{"use strict";var e={698:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},212:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},161:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Defer=e.createPromiseEx=e.isSvgSvg=e.isSvg=void 0;const i=s(26);e.isSvg=function(t){return i.s_isSvg(t)},e.isSvgSvg=function(t){return i.s_isSvgSvg(t)},e.createPromiseEx=function(){let t,e,s=new Promise((function(s,i){t=s,e=i}));return s.resolve=t,s.reject=e,s},e.Defer=class extends Promise{constructor(){super((function(t,e){this.resolve=t,this.reject=e}))}}},502:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updatable=e.noWatcher=e.symRenderNoWatcher=e.unmount=e.mount=e.PromiseProxy=e.FuncProxy=e.Fragment=e.Component=e.registerCustomEvent=e.registerCustomAttribute=e.createTextVN=e.setRef=e.ref=e.ElmRef=e.Ref=e.jsx=void 0;const i=s(26);e.jsx=function(t,e,...s){return t[i.symJsxToVNs](e,s)};let r=Symbol("symRef");class n{constructor(t,e){void 0!==t&&(this.changedEvent=new i.EventSlot,this.changedEvent.attach(t)),this[r]=e}addListener(t){this.changedEvent||(this.changedEvent=new i.EventSlot),this.changedEvent.attach(t)}removeListener(t){this.changedEvent&&this.changedEvent.detach(t)}get r(){return this[r]}set r(t){this[r]!==t&&(this[r]=t,this.changedEvent&&this.changedEvent.fire(t))}}e.Ref=n,e.ElmRef=class extends n{},e.ref=function(t,e){let s=Symbol(e+"_ref");function i(t){let e=t[s];return e||(t[s]=e=new o,e.proxy=new Proxy({},e)),e}Object.defineProperty(t,e,{set(t){i(this).obj=t},get(){return i(this).proxy}})};class o{get(t,e,s){if("r"===e)return this.obj;let i=this.obj[e];return"function"==typeof i?i.bind(this.obj):i}set(t,e,s,i){return"r"===e?this.obj=s:this.obj[e]=s,!0}deleteProperty(t,e){return Reflect.deleteProperty(this.obj,e)}defineProperty(t,e,s){return Reflect.defineProperty(this.obj,e,s)}has(t,e){return Reflect.has(this.obj,e)}getPrototypeOf(t){return Reflect.getPrototypeOf(this.obj)}isExtensible(t){return Reflect.isExtensible(this.obj)}getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(this.obj,e)}ownKeys(t){return Reflect.ownKeys(this.obj)}}e.setRef=function(t,e,s){"object"==typeof t?void 0!==s&&t.r!==s||(t.r=e):"function"==typeof t&&t(e)},e.createTextVN=function(t){return new i.TextVN(t)},e.registerCustomAttribute=function(t,e){i.registerElmProp(t,{type:3,handlerClass:e})},e.registerCustomEvent=function(t){i.registerElmProp(t,{type:2})};class l{constructor(t){t&&(this.props=t)}get isMounted(){return null!=this.vn}updateMe(t,e,s){this.vn&&(t?i.FuncProxyVN.update(t,e||this,s):this.vn.requestUpdate())}callMeBeforeUpdate(t,e){i.scheduleFuncCall(t,!0,e||this,this)}callMeAfterUpdate(t,e){i.scheduleFuncCall(t,!1,e||this,this)}wrapCallback(t,e,s){return i.wrapCallback(t,e||this,this,s)}}e.Component=l,e.Fragment=function(t){},e.FuncProxy=class extends l{constructor(t){super(t)}render(){}},e.PromiseProxy=class extends l{constructor(t){super(t)}render(){}},e.mount=function(t,e=null){i.mountRoot(t,e)},e.unmount=function(t=null){i.unmountRoot(t)},e.symRenderNoWatcher=Symbol(),e.noWatcher=function(t,s,i){if(!i.value)throw new Error("@noWatcher decorator can only be applied to methods.");i.value[e.symRenderNoWatcher]=!0},e.updatable=function(t,e){let s="_m_"+e;Object.defineProperty(t,e,{set(t){this[s]!==t&&(this[s]=t,this.vn&&this.vn.requestUpdate())},get(){return this[s]}})}},630:function(t,e,s){var i=this&&this.__decorate||function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBox=e.ProgressBoxStyles=e.MsgBox=e.MsgBoxStyles=e.Dialog=e.DefaultDialogStyles=e.Popup=e.DefaultPopupStyles=void 0;const r=s(502),n=s(868),o=s(161),l=s(26),u=s(65);class a extends n.StyleDefinition{constructor(){super(...arguments),this.dialog=n.$class({border:[1,"solid","grey"],boxShadow:{x:4,y:4,blur:4,color:"lightgrey"},padding:0,maxWidth:"100%",maxHeight:"100%","::backdrop":{backgroundColor:"grey",opacity:.3}})}}e.DefaultPopupStyles=a;class h extends r.Component{constructor(t,e){super(),this.onKeyDown=t=>{var e;if("Escape"===t.key){t.preventDefault();let s=null===(e=this.options)||void 0===e?void 0:e.escapeReturnValue;void 0!==s&&this.close(s)}},this.onDetectClickOutside=t=>{var e;if(t.target!==this.dlg)return;let s=this.dlg.getBoundingClientRect();(t.clientX<s.left||t.clientX>s.right||t.clientY<s.top||t.clientY>s.bottom)&&this.close(null===(e=this.options)||void 0===e?void 0:e.escapeReturnValue)},this.onPointerMove=t=>{t.preventDefault(),this.dlg&&t.isPrimary?this.move(t.clientX-this.movePointOffsetX,t.clientY-this.movePointOffsetY):this.stopMove()},this.onPointerUp=t=>{t.preventDefault(),this.stopMove()},this._events=u.createMultiEventSlot(),this.content=t,this.options=e}open(){if(this.isOpen)return!1;this._returnValue=void 0,this.create(),this.dlg.show(),this.onOpen(!1)}showModal(){var t;return this.isOpen?Promise.reject(new Error("Popup already open")):(this._returnValue=void 0,this.create(),this.dlg.showModal(),window.addEventListener("keydown",this.onKeyDown),void 0!==(null===(t=this.options)||void 0===t?void 0:t.escapeReturnValue)&&this.dlg.addEventListener("click",this.onDetectClickOutside),this.modalPromise=o.createPromiseEx(),this.modalPromise)}close(t){var e;this.isOpen&&(this.modalPromise&&(void 0!==(null===(e=this.options)||void 0===e?void 0:e.escapeReturnValue)&&this.dlg.removeEventListener("click",this.onDetectClickOutside),window.removeEventListener("keydown",this.onKeyDown),this.modalPromise.resolve(t),this.modalPromise=void 0),this.dlg.close(),this.destroy(),this._returnValue=t,this.onClose(t))}get events(){return this._events}get isOpen(){return null!=this.dlg}isModeless(){return this.isOpen&&!this.modalPromise}isModal(){return this.isOpen&&null!=this.modalPromise}get returnValue(){return this._returnValue}get isVisible(){return this._isVisible}set isVisible(t){this._isVisible=t}setContent(t){this.content=t}startMove(t,e){if(!this.dlg)return;let s=this.dlg.getBoundingClientRect();this.movePointOffsetX=t-s.left,this.movePointOffsetY=e-s.top,this.dlg.style.margin="0",this.dlg.style.top=s.top+"px",this.dlg.style.left=s.left+"px",window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)}stopMove(){window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this.movePointOffsetX=this.movePointOffsetY=0}moveTo(t,e){this.dlg&&(this.move(t,e),this.dlg.style.margin="0")}willMount(){this.vn.publishService("popup",this)}willUnmount(){this.vn.unpublishService("popup"),n.deactivate(this.defaultStyles),this.defaultStyles=null,this.optionalStyles&&(n.deactivate(this.optionalStyles),this.optionalStyles=null),this.dlg=null,this.anchorElement=null}render(){return this.content}create(){var t,e;this.anchorElement=this.options&&this.options.anchorElement?this.options.anchorElement:document.body,this.defaultStyles=n.activate(this.getDefaultStyles()),this.options&&this.options.styles&&(this.optionalStyles=n.activate(this.options.styles)),this.dlg=document.createElement("dialog"),this.dlg.className=n.chooseClass(null===(t=this.options)||void 0===t?void 0:t.dialogStyleClass,null===(e=this.optionalStyles)||void 0===e?void 0:e.dialog,this.defaultStyles.dialog),this.anchorElement.appendChild(this.dlg);let s={position:"fixed"};this.options&&void 0!==this.options.initialX?s.left=this.options.initialX:s.left=s.right=0,this.options&&void 0!==this.options.initialY?s.top=this.options.initialY:s.top=s.bottom=0,n.setElementStyle(this.dlg,s,1),r.mount(this,this.dlg)}destroy(){r.unmount(this.dlg),this.dlg.remove()}move(t,e){t<0?t=0:t+30>window.innerWidth&&(t=window.innerWidth-30),e<0?e=0:e+30>window.innerHeight&&(e=window.innerHeight-30),this.dlg.style.left=t+"px",this.dlg.style.top=e+"px"}getDefaultStyles(){return a}onOpen(t){this._events.open.fire(t)}onClose(t){this._events.close.fire(t)}}i([l.trigger(0)],h.prototype,"content",void 0),e.Popup=h;class c extends a{constructor(){super(...arguments),this.dialogCaption=n.$class({backgroundColor:"dodgerblue",color:"white",boxShadow:{x:0,y:2,blur:2,color:"lightgrey"},padding:.4}),this.dialogBody=n.$class({padding:.7}),this.dialogButtonBar=n.$class({padding:[.7,1.01],display:"flex",justifyContent:"flex-end",alignItems:"center"}),this.dialogButton=n.$class({padding:.3,marginInlineStart:1.01,minWidth:5.5,border:"none",backgroundColor:15921906,":hover":{backgroundColor:14869218},":focus":{backgroundColor:14869218,outline:[1,"solid",10658466]}})}}e.DefaultDialogStyles=c;class d extends h{constructor(t,e,s,...i){super(t,s),this.buttons=new Map,this.buttonKeys=new Map,this.nextButtonTabIndex=1001,this.captionContent=e;for(let t of i)this.addButton(t)}setCaption(t){this.captionContent=t}addButton(t){let e=new p(t,this.nextButtonTabIndex++);this.buttons.set(t.id,e),t.keycode&&this.buttonKeys.set(t.keycode,e)}get buttonCount(){return this.buttons.size}getDefaultStyles(){return c}willMount(){var t,e,s,i,r,o,l,u,a;super.willMount(),this.captionClassName=n.chooseClass(null===(t=this.options)||void 0===t?void 0:t.dialogCaptionStyleClass,null===(e=this.optionalStyles)||void 0===e?void 0:e.dialogCaption,this.defaultStyles.dialogCaption),this.bodyClassName=n.chooseClass(null===(s=this.options)||void 0===s?void 0:s.dialogBodyStyleClass,null===(i=this.optionalStyles)||void 0===i?void 0:i.dialogBody,this.defaultStyles.dialogBody),this.buttonBarClassName=n.chooseClass(null===(r=this.options)||void 0===r?void 0:r.dialogButtonBarStyleClass,null===(o=this.optionalStyles)||void 0===o?void 0:o.dialogButtonBar,this.defaultStyles.dialogButtonBar),this.buttonClassName=n.chooseClass(null===(l=this.options)||void 0===l?void 0:l.dialogButtonStyleClass,null===(u=this.optionalStyles)||void 0===u?void 0:u.dialogButton,this.defaultStyles.dialogButton),this.vn.publishService("dialog",this),null!=(null===(a=this.options)||void 0===a?void 0:a.defaultButton)&&this.callMeAfterUpdate((()=>{var t;let e=this.buttons.get(null===(t=this.options)||void 0===t?void 0:t.defaultButton);e&&e.ref.focus()}))}willUnmount(){this.vn.unpublishService("dialog"),super.willUnmount()}render(){return r.jsx("div",{keydown:this.onButtonKeyDown},this.renderCaption,this.renderBody,this.renderButtons)}renderCaption(){return r.jsx("div",{class:this.captionClassName,pointerdown:this.onCaptionPointerDown,style:{touchAction:"none"}},this.captionContent)}renderBody(){return r.jsx("div",{class:this.bodyClassName},this.content)}renderButtons(){return r.jsx("div",{class:this.buttonBarClassName},Array.from(this.buttons.values()).map((t=>r.jsx("button",{id:t.btn.id,ref:t.ref,class:this.buttonClassName,click:()=>this.onButtonClicked(t)},t.btn.content))))}onCaptionPointerDown(t){t.isPrimary&&(t.preventDefault(),this.startMove(t.clientX,t.clientY))}onButtonClicked(t){t.btn.callback?t.btn.callback(t.btn.id):this.close(t.btn.returnValue)}onButtonKeyDown(t){let e=this.buttonKeys.get(t.key);e||(e=this.buttonKeys.get(t.code)),e&&(t.preventDefault(),this.onButtonClicked(e))}}i([l.trigger],d.prototype,"captionContent",void 0),i([l.trigger(3)],d.prototype,"buttons",void 0),e.Dialog=d;class p{constructor(t,e){this.btn=t,this.disabled=t.disabled,this.tabIndex=e}}i([r.ref],p.prototype,"ref",void 0);class f extends c{constructor(){super(...arguments),this.container=n.$class({display:"flex",flexDirection:"row",alignItems:"center"}),this.icon=n.$class({padding:n.rem(.5),fontSize:n.em(3),fontWeight:900}),this.text=n.$class({padding:.5,minWidth:n.em(15),maxWidth:n.em(60),minHeight:n.em(2),maxHeight:n.em(20),overflow:"auto",verticalAlign:"middle"})}}e.MsgBoxStyles=f;class m extends d{constructor(t,e,s=1,i=0,r){super(t,e,{styles:f,escapeReturnValue:0===s?16:void 0,defaultButton:r}),this.icon=i,this.createButtons(s)}static showModal(t,e,s=1,i=0,r){return new m(t,e,s,i,r).showModal()}renderBody(){let{char:t,color:e}=this.getIconClassAndColor();return r.jsx("div",{class:this.optionalStyles.container},t&&r.jsx("span",{class:this.optionalStyles.icon,style:{color:e}},t),r.jsx("span",{class:this.optionalStyles.text},this.content))}getDefaultStyles(){return f}createButtons(t){switch(t){case 16:this.createButton("Close",16);break;case 1:this.createButton("OK",1);break;case 3:this.createButton("OK",1),this.createButton("Cancel",2,"Escape");break;case 12:this.createButton("Yes",4),this.createButton("No",8);break;case 14:this.createButton("Yes",4),this.createButton("No",8),this.createButton("Cancel",2,"Escape")}}getIconClassAndColor(){switch(this.icon){case 1:return{char:"i",color:"blue"};case 4:return{char:"?",color:"green"};case 2:return{char:"!",color:"orange"};case 3:return{char:"x",color:"red"};default:return{}}}createButton(t,e,s){this.addButton({id:e,content:t,returnValue:e,keycode:s})}}e.MsgBox=m;class y extends c{constructor(t){super(t),this.container=n.$class({width:n.rem(30),height:n.rem(5),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"}),this.progress=n.$class({width:n.rem(20),height:n.rem(1),margin:n.rem(1)}),this.text=n.$class({textAlign:"center"}),this.dialogButtonBar.setProp("justifyContent","center")}}e.ProgressBoxStyles=y;class g extends d{constructor(t,e,s){super(t,e,{styles:y}),this.delayHandle=0,null!=s&&this.addButton({id:1,content:"Cancel",returnValue:s})}static async showUntil(t,e,s,i=750){let r=new g(e,s);r.showModalWithDelay(i);try{return await t}finally{r.close()}}showModalWithDelay(t){this.delayHandle=setTimeout((()=>this.showNow()),t)}close(t){this.delayHandle>0&&(clearTimeout(this.delayHandle),this.delayHandle=0),super.close(t)}renderBody(){return r.jsx("div",{class:this.optionalStyles.container},r.jsx("progress",{class:this.optionalStyles.progress}),r.jsx("div",{class:this.optionalStyles.text},this.content))}getDefaultStyles(){return y}showNow(){this.delayHandle=0,this.showModal()}}e.ProgressBox=g},224:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ClassCompVN=void 0;const i=s(502),r=s(968),n=s(26);class o extends n.VN{mount(){let t=this.comp;t.vn=this;let e=t.willMount;if(e){let s=n.setCurrentClassComp(t);e.call(t),n.setCurrentClassComp(s)}let s=t.render;s[i.symRenderNoWatcher]?this.actRender=s.bind(t):this.actRender=this.renderWatcher=r.createWatcher(s,this.requestUpdate,t,this),t.handleError&&(this.supportsErrorHandling=!0),this.comp.getUpdateStrategy&&(this.updateStrategy=t.getUpdateStrategy())}unmount(){let t=this.comp,e=t.willUnmount;if(e)try{let s=n.setCurrentClassComp(t);e.call(t),n.setCurrentClassComp(s)}catch(t){console.error(`Exception in willUnmount of component '${this.name}'`,t)}this.renderWatcher&&(this.renderWatcher.dispose(),this.renderWatcher=null),t.vn=void 0}render(){let t=n.setCurrentClassComp(this.comp),e=this.actRender();return n.setCurrentClassComp(t),e}handleError(t){let e=n.setCurrentClassComp(this.comp);this.comp.handleError(t),n.setCurrentClassComp(e)}}e.ClassCompVN=o},587:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.removeElmProp=e.updateElmProp=e.setElmProp=e.getElmPropInfo=e.registerElmProp=void 0;const i=s(868);let r={key:{type:0},ref:{type:0},vnref:{type:0},updateStrategy:{type:0},id:{type:1},class:{type:1},style:{type:1,set:function(t,e,s){i.setElementStyle(t,s,1)},diff:function(t,e,s){let r=i.diffStylesets(e,s);return null==r?void 0:r},update:function(t,e,s){i.setElementStringStyle(t,s,1)}},media:{type:1,set:function(t,e,s){t[e]=i.mediaQueryToString(s)},diff:function(t,e,s){if(e===s)return;let r=i.mediaQueryToString(e),n=i.mediaQueryToString(e);return n===r?void 0:n},update:function(t,e,s){t[e]=s}},value:{type:1,set:o,diff:function(t,e,s){return s},remove:function(t,e){t.value=null}},defaultValue:{type:1,set:o,diff:l,remove:u},checked:{type:1,set:a,diff:function(t,e,s){return s},remove:function(t,e){t.checked=!1}},defaultChecked:{type:1,set:a,diff:l,remove:u},click:{type:2,schedulingType:"t"}};function n(t){return"string"==typeof t?t:Array.isArray(t)?t.map((t=>n(t))).filter((t=>!!t)).join(" "):null==t?"":t.toString()}function o(t,e,s){t.value=s}function l(t,e,s){}function u(t,e){}function a(t,e,s){t.checked=s}e.registerElmProp=function(t,e){if(t in r)throw new Error(`Attribute ${t} is already registered.`);r[t]=e},e.getElmPropInfo=function(t){return r[t]},e.setElmProp=function(t,e,s,i){if(s){let r=s.attrName||e;s.set?s.set(t,r,i):t.setAttribute(r,n(i))}else t.setAttribute(e,n(i))},e.updateElmProp=function(t,e,s,i,r){if(!s)return i!==r&&(t.setAttribute(e,n(r)),!0);let o;if(s.diff){if(o=s.diff(e,i,r),void 0===o)return!1}else{if(i===r)return!1;o=r}let l=s.attrName||e;return s.update?s.update(t,l,o):(s.remove&&!s.set&&s.remove(t,l),s.set?s.set(t,l,o):t.setAttribute(l,n(o))),!0},e.removeElmProp=function(t,e,s){if(s){let i=s.attrName||e;s.remove?s.remove(t,i):t.removeAttribute(i)}else t.removeAttribute(e)}},478:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ElmVN=void 0;const i=s(26);class r extends i.VN{constructor(t,e,s,i){super(),this.creator=t,this.elmName=e,this.props=s,this.subNodes=i,this.key=s&&(s.key||s.id)}get elm(){return this.ownDN}get name(){let t=this.elmName;return null!=this.key&&(t+="@"+this.key),t}setProps(t){t&&(this.propsForPartialUpdate?Object.assign(t):(this.propsForPartialUpdate=t,this.requestPartialUpdate()))}setChildren(t){this.areChildrenForPartialUpdateSet=!0,this.childrenForPartialUpdate=t,this.requestPartialUpdate()}clone(){let t=new r(this.creator,this.elmName,this.props,this.subNodes);return t.clonedFrom=this,t}mount(){var t;let e=this.clonedFrom;if(e&&e.ownDN)this.ownDN=e.ownDN.cloneNode(!1),this.attrs=e.attrs,this.events=e.events,this.customAttrs=e.customAttrs,this.clonedFrom=null;else{if(null===(t=this.props)||void 0===t?void 0:t.xmlns)this.isSvg=this.props.xmlns.endsWith("svg"),this.ownDN=document.createElementNS(this.props.xmlns,this.elmName);else{let t=o[this.elmName];this.isSvg=void 0!==t&&(!1===t||this.anchorDN.namespaceURI.endsWith("svg")),this.ownDN=this.isSvg?document.createElementNS(n,(s=t,i=this.elmName,"string"==typeof s?s:i)):document.createElement(this.elmName)}this.props&&(this.parseProps(this.props),this.attrs&&this.addAttrs())}var s,i;this.events&&this.addEvents(),this.customAttrs&&this.addCustomAttrs(),this.ref&&("function"==typeof this.ref?this.ref(this.ownDN):this.ref.r=this.ownDN),this.vnref&&("function"==typeof this.vnref?this.vnref(this):this.vnref.r=this)}unmount(){this.ref&&("function"==typeof this.ref?this.ref(void 0):this.ref.r===this.ownDN&&(this.ref.r=void 0)),this.vnref&&("function"==typeof this.vnref?this.vnref(void 0):this.vnref.r===this&&(this.vnref.r=void 0)),this.customAttrs&&this.removeCustomAttrs()}isUpdatePossible(t){return this.elmName===t.elmName}update(t){return this.creator===t.creator&&i.s_deepCompare(this.props,t.props,3)||(t.props&&t.parseProps(t.props),t.ref!==this.ref&&(this.ref=t.ref,this.vnref=t.vnref,this.ref&&("function"==typeof this.ref?this.ref(this.ownDN):this.ref.r=this.ownDN),this.vnref&&("function"==typeof this.vnref?this.vnref(this):this.vnref.r=this)),this.props=t.props,this.key=t.key,this.updateStrategy=t.updateStrategy,this.updateAttrs(t.attrs),this.updateEvents(t.events),this.updateCustomAttrs(t.customAttrs)),null!=this.subNodes||null!=t.subNodes}performPartialUpdate(){let t=null;return this.propsForPartialUpdate&&(this.updatePropsOnly(this.propsForPartialUpdate),this.propsForPartialUpdate=void 0),this.areChildrenForPartialUpdateSet&&(t=new r(this.creator,this.elmName,null,this.childrenForPartialUpdate&&this.childrenForPartialUpdate[i.symToVNs]()),this.childrenForPartialUpdate=void 0,this.areChildrenForPartialUpdateSet=!1),t}updatePropsOnly(t){for(let e in t){let s=t[e],r=i.getElmPropInfo(e),n=r?r.type:"function"==typeof s||"object"==typeof s?2:1;1===n?this.updateAttrOnly(e,r,s):2===n?this.updateEventOnly(e,r,s):3===n?this.updateCustomAttrOnly(e,r,s):"key"===e?this.key=s:"ref"===e?s!==this.ref&&(this.ref=s,this.ref&&("function"==typeof this.ref?this.ref(this.ownDN):this.ref.r=this.ownDN),this.vnref&&("function"==typeof this.vnref?this.vnref(this):this.vnref.r=this)):"updateStrategy"===e&&(this.updateStrategy=s)}}parseProps(t){for(let e in t){let s=t[e];if(null!=s&&!1!==s){let t=i.getElmPropInfo(e),r=t?t.type:"function"==typeof s||"object"==typeof s?2:1;if(1===r)this.attrs||(this.attrs={}),this.attrs[e]={info:t,val:s};else if(2===r){let i=this.getEventRTD(t,s);i&&(this.events||(this.events={}),this.events[e]=i)}else 0===r?("ref"===e&&(this.ref=s),"vnref"===e?this.vnref=s:"updateStrategy"===e&&(this.updateStrategy=s)):(this.customAttrs||(this.customAttrs={}),this.customAttrs[e]={info:t,val:s,handler:void 0})}}}addAttrs(){for(let t in this.attrs){let e=this.attrs[t];i.setElmProp(this.ownDN,t,e.info,e.val)}}updateAttrs(t){let e=this.ownDN,s=this.attrs;if(s)for(let r in s){let n=s[r],o=t?t[r]:void 0;o&&o.val?n.val!==o.val&&i.updateElmProp(e,r,n.info,n.val,o.val):i.removeElmProp(e,r,n.info)}if(t)for(let r in t){if(s&&r in s)continue;let n=t[r];i.setElmProp(e,r,n.info,n.val)}this.attrs=t}updateAttrOnly(t,e,s){let r=this.attrs&&this.attrs[t];null==s||!1===s?r&&(i.removeElmProp(this.ownDN,t,e),delete this.attrs[t]):r?(i.updateElmProp(this.ownDN,t,e,r.val,s),r.val=s):(i.setElmProp(this.ownDN,t,e,s),this.attrs||(this.attrs={}),this.attrs[t]={info:e,val:s})}addEvents(){for(let t in this.events)this.addEvent(t,this.events[t])}addEvent(t,e){e.wrapper=i.wrapCallback(e.func,e.funcThisArg,e.creator,e.schedulingType),this.ownDN.addEventListener(t,e.wrapper,e.useCapture)}removeEvent(t,e){this.ownDN.removeEventListener(t,e.wrapper,e.useCapture)}updateEvents(t){let e=this.events;if(e)for(let s in e){let i=e[s],r=t?t[s]:void 0;r?this.updateEvent(s,i,r):this.removeEvent(s,i)}if(t)for(let s in t)e&&s in e||this.addEvent(s,t[s]);this.events=t}updateEvent(t,e,s){e.func===s.func&&e.funcThisArg===s.funcThisArg&&e.useCapture==s.useCapture?s.wrapper=e.wrapper:(this.ownDN.removeEventListener(t,e.wrapper,e.useCapture),s.wrapper=i.wrapCallback(s.func,s.funcThisArg,s.creator,s.schedulingType),this.ownDN.addEventListener(t,s.wrapper,s.useCapture))}updateEventOnly(t,e,s){let i=this.events&&this.events[t],r=null!=s&&this.getEventRTD(e,s);r?i?(this.updateEvent(t,i,r),this.events[t]=r):(this.addEvent(t,r),this.events||(this.events={}),this.events[t]=r):i&&(this.removeEvent(t,i),delete this.events[t])}getEventRTD(t,e){return"function"==typeof e?{func:e,funcThisArg:this.creator,schedulingType:t?t.schedulingType:void 0,creator:this.creator}:Array.isArray(e)?{func:e[0],funcThisArg:e[1]?e[1]:this.creator,schedulingType:e[2]?e[2]:t?t.schedulingType:void 0,creator:e[3]?e[3]:this.creator,useCapture:e[4]}:{func:e.func,funcThisArg:e.funcThisArg?e.funcThisArg:this.creator,schedulingType:e.schedulingType?e.schedulingType:t?t.schedulingType:void 0,creator:e.creator?e.creator:this.creator,useCapture:e.useCapture}}addCustomAttrs(){for(let t in this.customAttrs){let e=this.customAttrs[t];this.addCustomAttr(t,e)||delete this.customAttrs[t]}}addCustomAttr(t,e){try{return e.handler=new e.info.handlerClass(this,e.val,t),!0}catch(e){return console.error(`Error creating handler for custom attribute '${t}': ${e.message}`),!1}}removeCustomAttrs(){for(let t in this.customAttrs)this.removeCustomAttr(t,this.customAttrs[t],!0)}removeCustomAttr(t,e,s){try{e.handler.terminate(s)}catch(e){console.error(`Error terminating handler for custom attribute '${t}': ${e.message}`)}}updateCustomAttrs(t){let e=this.customAttrs;if(e)for(let s in e){const i=e[s],r=t?t[s]:void 0;r?(this.updateCustomAttr(s,i,r),r.handler=i.handler):this.removeCustomAttr(s,i,!1)}if(t)for(let s in t){if(e&&s in e)continue;let i=t[s];this.addCustomAttr(s,i)||delete t[s]}this.customAttrs=t}updateCustomAttr(t,e,s){try{e.handler.update(s.val)}catch(e){console.error(`Error updating handler for custom attribute '${t}': ${e.message}`)}}updateCustomAttrOnly(t,e,s){let i=this.customAttrs&&this.customAttrs[t],r=null!=s&&{info:e,val:s,handler:void 0};r?i?(this.updateCustomAttr(t,i,r),i.val=s):(this.addCustomAttr(t,r),this.customAttrs||(this.customAttrs={}),this.customAttrs[t]=r):i&&(this.removeCustomAttr(t,i,!1),delete this.customAttrs[t])}}e.ElmVN=r,r.prototype.render=void 0,r.prototype.didUpdate=void 0,r.prototype.supportsErrorHandling=!1,r.prototype.ignoreUnmount=!1;let n="http://www.w3.org/2000/svg",o={svg:!1,a:!0,animate:!1,animateMotion:!1,animateTransform:!1,circle:!1,clipPath:!1,colorProfile:"color-profile",defs:!1,desc:!1,discard:!1,ellipse:!1,feBlend:!1,feColorMatrix:!1,feComponentTransfer:!1,feComposite:!1,feConvolveMatrix:!1,feDiffuseLighting:!1,feDisplacementMap:!1,feDistantLight:!1,feDropShadow:!1,feFlood:!1,feFuncA:!1,feFuncB:!1,feFuncG:!1,feFuncR:!1,feGaussianBlur:!1,feImage:!1,feMerge:!1,feMergeNode:!1,feMorphology:!1,feOffset:!1,fePointLight:!1,feSpecularLighting:!1,feSpotLight:!1,feTile:!1,feTurbulence:!1,filter:!1,foreignObject:!1,g:!1,hatch:!1,hatchpath:!1,image:!1,line:!1,linearGradient:!1,marker:!1,mask:!1,metadata:!1,mpath:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,script:!0,set:!1,solidcolor:!1,stop:!1,style:!0,switch:!1,symbol:!1,text:!1,textPath:!1,title:!0,textSpan:!1,use:!1,view:!1}},816:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FuncProxyVN=void 0;const i=s(502),r=s(26);let n=Symbol("symFuncsToNodes");class o extends r.VN{constructor(t,e,s,i,r){super(),this.creator=t,this.func=e,this.funcThisArg=s,this.arg=i,this.key=r||i}get name(){let t=this.func.name;return null!=this.key&&(t+="@"+this.key),t}mount(){this.funcThisArg||(this.funcThisArg=this.creator),this.linkNodeToFunc();let t=this.func;t[i.symRenderNoWatcher]?this.actFunc=t.bind(this.funcThisArg):this.actFunc=this.funcWatcher=r.createWatcher(t,this.requestUpdate,this.funcThisArg,this)}unmount(){this.funcWatcher&&(this.funcWatcher.dispose(),this.funcWatcher=null),this.unlinkNodeFromFunc(),this.actFunc=void 0}render(){let t=r.setCurrentClassComp(this.creator),e=this.actFunc(this.arg);return r.setCurrentClassComp(t),e}update(t){return this.key=t.key,this.func===t.func&&this.funcThisArg===t.funcThisArg?this.arg!==t.arg&&(this.arg=t.arg,!0):(this.unmount(),this.func=t.func,this.funcThisArg=t.funcThisArg,this.arg=t.arg,this.mount(),!0)}linkNodeToFunc(){if(!this.funcThisArg)return;let t=this.funcThisArg[n];t||(t=new Map,this.funcThisArg[n]=t),t.set(this.func,this)}unlinkNodeFromFunc(){if(!this.funcThisArg)return;let t=this.funcThisArg[n];t&&t.delete(this.func)}static findVN(t,e,s){if(!e)return null;let i=e[n];return i&&i.get(t)}static update(t,e,s){let i=o.findVN(t,e,s);i&&i.requestUpdate()}}e.FuncProxyVN=o,o.prototype.isUpdatePossible=void 0,o.prototype.didUpdate=void 0,o.prototype.supportsErrorHandling=!1,o.prototype.ignoreUnmount=!1},434:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IndependentCompVN=void 0;const i=s(26);class r extends i.ClassCompVN{constructor(t){super(),this.comp=this.key=t}get name(){return this.comp.displayName?this.comp.displayName:this.comp.constructor.name}isUpdatePossible(t){return this.comp.constructor===t.comp.constructor}update(t){return this.comp!==t.comp&&(this.unmount(),this.oldComp=this.comp,this.comp=this.key=t.comp,this.mount(),!0)}didUpdate(){if(this.oldComp){let t=this.comp.didReplace;t&&t.call(this.comp,this.oldComp),this.oldComp=void 0}}}e.IndependentCompVN=r,r.prototype.ignoreUnmount=!1},500:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ManagedCompVN=void 0;const i=s(502),r=s(26);class n extends r.ClassCompVN{constructor(t,e,s){if(super(),this.compClass=t,this.props={},e)for(let t in e){let s=e[t];null!=s&&("key"===t?this.key=s:"ref"===t?this.ref=s:this.props[t]=s)}this.props.children=s}get name(){if(this.comp&&this.comp.displayName)return this.comp.displayName;{let t=this.compClass.name;return null!=this.key&&(t+="@"+this.key),t}}mount(){this.comp=new this.compClass(this.props),super.mount(),this.ref&&i.setRef(this.ref,this.comp)}unmount(){this.ref&&i.setRef(this.ref,void 0,this.comp),super.unmount(),this.comp=null}isUpdatePossible(t){return this.compClass===t.compClass}update(t){let e=this.comp.shouldUpdate&&this.comp.shouldUpdate(t.props);return t.ref!==this.ref?(this.ref=t.ref,this.ref&&i.setRef(this.ref,this.comp)):t.ref||i.setRef(this.ref,void 0,this.comp),this.key=t.key,this.comp.props=this.props=t.props,e}}e.ManagedCompVN=n,n.prototype.didUpdate=void 0,n.prototype.ignoreUnmount=!1},624:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseProxyVN=void 0;const i=s(26);class r extends i.VN{constructor(t,e){super(),this.promise=t.promise,this.errorContentFunc=t.errorContentFunc,this.content=e,this.key=t.key}get isSettled(){return null==this.promise}get name(){let t="Promise";return null!=this.key&&(t+="@"+this.key),t}mount(){this.watchPromise()}render(){return this.content}isUpdatePossible(t){return this.promise===t.promise}update(t){return this.key=t.key,this.content=t.content,this.errorContentFunc=t.errorContentFunc,!0}async watchPromise(){try{this.content=await this.promise,this.promise=null,this.isMounted&&this.requestUpdate()}catch(t){if(this.promise=null,this.content=null,!this.isMounted)return;if(this.errorContentFunc)try{this.content=this.errorContentFunc(t)}catch(t){console.warn("Unhandled rejected promise:",t)}else console.warn("Unhandled rejected promise:",t);this.requestUpdate()}}}e.PromiseProxyVN=r},427:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.notifyServiceUnsubscribed=e.notifyServiceSubscribed=e.notifyServiceUnpublished=e.notifyServicePublished=void 0;class s{constructor(){this.publishingVNs=new Set,this.subscribedVNs=new Set}}let i=new Map;e.notifyServicePublished=function(t,e){let r=i.get(t);void 0===r&&(r=new s,i.set(t,r)),r.publishingVNs.add(e);for(let e of r.subscribedVNs)e.notifyServiceChanged(t)},e.notifyServiceUnpublished=function(t,e){let s=i.get(t);if(void 0!==s)if(s.publishingVNs.delete(e),0===s.publishingVNs.size&&0===s.subscribedVNs.size)i.delete(t);else for(let e of s.subscribedVNs)e.notifyServiceChanged(t)},e.notifyServiceSubscribed=function(t,e){let r=i.get(t);void 0===r&&(r=new s,i.set(t,r)),r.subscribedVNs.add(e)},e.notifyServiceUnsubscribed=function(t,e){let s=i.get(t);void 0!==s&&(s.subscribedVNs.delete(e),0===s.publishingVNs.size&&0===s.subscribedVNs.size&&i.delete(t))}},483:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.symJsxToVNs=e.symToVNs=e.scheduleFuncCall=e.requestNodeUpdate=e.wrapCallback=e.setCurrentClassComp=void 0;const i=s(502),r=s(26);let n=new Set,o=new Map,l=new Map,u=0,a=0,h=0,c=!1,d=null;function p(t,e,s,i){return f.bind(s,t,e,i)}function f(){let t,e,s,i,n,o=d;d=this,r.enterMutationScope(),[e,s,i,...n]=arguments;try{c=i&&"n"!==i,t=e.apply(s,n)}finally{r.exitMutationScope(),c=!1,d=o}switch(i){case"s":y();break;case"t":queueMicrotask(y);break;case"a":0===u&&(u=requestAnimationFrame(m))}return t}function m(){u=0,y()}function y(){if(0!==u&&(cancelAnimationFrame(u),u=0),o.size>0){a=1;let t=o;o=new Map,g(t,!0)}if(n.size>0){h++,a=2;let t=n;n=new Set,t.forEach((t=>{if(t.anchorDN)try{if(t.partialUpdateRequested){t.partialUpdateRequested=!1;let e=t.performPartialUpdate();e&&(N({oldVN:t,newVN:e}),d=null)}if(t.updateRequested){if(t.updateRequested=!1,t.lastUpdateTick===h)return;N({oldVN:t,newVN:t}),d=null}}catch(e){let s=t.getService("StdErrorHandling");s?s.reportError(e):console.error("BUG: updateNode threw exception but StdErrorHandling service was not found.",e)}}))}if(l.size>0){a=3;let t=l;l=new Map,g(t,!1)}a=0}function g(t,e){t.forEach((t=>{try{t()}catch(t){console.error(`Exception while invoking function ${e?"before":"after"} updating components\n`,t)}}))}function v(t,e,s,i){if(t.anchorDN){let r=t.clone,n=r?r.call(t):t;if(n===t)return t.ignoreUnmount=!0,t.parent=e,t.anchorDN=s,S(t,s,i),t;e.subNodes[t.index]=n,t=n}t.parent=e,t.anchorDN=s;let r=t.mount;r&&r.call(t);let n=t.ownDN;if(r=t.render,r&&(t.subNodes=T(r.call(t))),t.subNodes){let e=n||s,o=n?null:i;if(t.supportsErrorHandling)try{t.subNodes.forEach(((s,i)=>{s.index=i,v(s,t,e,o)}))}catch(s){t.handleError(s),r&&(t.subNodes=T(r.call(t))),t.subNodes&&t.subNodes.forEach(((s,i)=>{s.index=i,v(s,t,e,o)}))}else t.subNodes.forEach(((s,i)=>{s.index=i,v(s,t,e,o)}))}return n&&s.insertBefore(n,i),t}function b(t,e){if(t.ignoreUnmount)return void(t.ignoreUnmount=!1);let s=t.ownDN,i=t.unmount;if(i&&i.call(t),s&&(t.ownDN=null,e&&s.remove()),t.subNodes){let i=e&&!s;t.subNodes.forEach((t=>b(t,i))),t.subNodes=null}t.anchorDN=null,t.parent=null}function N(t){let e=t.oldVN,s=e.ownDN,i=e.render,r=i?T(i.call(e)):t.newVN.subNodes;if(x(t,r),t.replaceAllSubNodes?e.subNodes&&(s&&(s.textContent=null),e.subNodes.forEach((t=>{b(t,!s)}))):t.subNodesToRemove&&t.subNodesToRemove.forEach((t=>{b(t,!0)})),r){let n=s||e.anchorDN,o=s?null:A(e,n);if(e.supportsErrorHandling)try{w(e,t,r,n,o)}catch(s){e.handleError(s),r=i?T(i.call(e)):t.newVN.subNodes,x(t,r),r?w(e,t,r,n,o):e.subNodes=null}else w(e,t,r,n,o)}else e.subNodes=null;2===t.action&&(i=t.newVN.didUpdate,i&&i.call(e)),e.lastUpdateTick=h}function w(t,e,s,i,r){e.replaceAllSubNodes?(t.subNodes=s,s.forEach(((e,s)=>{e.index=s,v(e,t,i,r)}))):(t.subNodes?t.subNodes.length>s.length&&t.subNodes.splice(s.length):t.subNodes=new Array(s.length),e.subNodeGroups?function(t,e,s,i,r){let n,o,l,u,a=t.subNodes,h=r;for(let r=s.length-1;r>=0;r--){if(u=s[r],1===u.action){let s=u.last;for(let r=u.first;r<=s;r++)n=e[r],o=n.newVN,o.index=r,a[r]=o,v(o,t,i,h)}else if(2===u.action){let t=u.first;for(let s=u.last;s>=t;s--)n=e[s],o=n.newVN,l=n.oldVN,l.index=s,a[s]=l,l.update(o)&&N(n)}else{let t=u.first;if(a[t]!==e[t].oldVN)for(let s=u.last;s>=t;s--)l=e[s].oldVN,l.index=s,a[s]=l}P(u,e),h=u.firstDN||h}h=r;for(let t=s.length-1;t>0;t--){let r=s[t];if(null!=r.lastDN){if(r.lastDN.nextSibling!==h){let n=s[t-1];r.lastDN.nextSibling===n.firstDN&&r.count>n.count?C(n,e,i,r.firstDN):C(r,e,i,h)}h=r.firstDN}}}(t,e.subNodeDisps,e.subNodeGroups,i,r):function(t,e,s,i){let r=t.subNodes;for(let n=e.length-1;n>=0;n--){let o,l=e[n],u=l.newVN,a=l.oldVN;1===l.action?(u.index=n,r[n]=u,o=v(u,t,s,i)):(r[n]=o=a,a!==u&&a.update(u)&&N(l),n!==a.index&&S(a,s,i),o.index=n),i=E(o)||i}}(t,e.subNodeDisps,i,r))}function S(t,e,s){let i=D(t);if(i&&i[i.length-1].nextSibling!==s)for(let t of i)e.insertBefore(t,s)}function C(t,e,s,i){let r,n=1===t.action;for(let o=t.first;o<=t.last;o++)if(r=D(n?e[o].newVN:e[o].oldVN))for(let t of r)s.insertBefore(t,i)}function P(t,e){let s=1===t.action;if(1===t.count){let i=s?e[t.first].newVN:e[t.first].oldVN;t.firstDN=E(i),t.lastDN=V(i)}else{for(let i=t.first;i<=t.last&&!(t.firstDN=E(s?e[i].newVN:e[i].oldVN));i++);for(let i=t.last;i>=t.first&&!(t.lastDN=V(s?e[i].newVN:e[i].oldVN));i--);}}function x(t,e){var s;let i=e?e.length:0,r=t.oldVN.subNodes,n=r?r.length:0;if(0===i&&0===n)return;if(0===i||0===n)return void(t.replaceAllSubNodes=!0);let o=!(null===(s=t.oldVN.updateStrategy)||void 0===s?void 0:s.disableKeyedNodeRecycling);if(1===i&&1===n){let s=r[0],i=e[0];return void(s!==i&&(!o&&i.key!==s.key||s.constructor!==i.constructor||s.isUpdatePossible&&!s.isUpdatePossible(i))?t.replaceAllSubNodes=!0:t.subNodeDisps=[{oldVN:s,newVN:i,action:2}])}let l,u=new Map,a=[];r.forEach((t=>{l=t.key,null==l||u.has(l)?a.push(t):u.set(l,t)})),t.subNodeDisps=new Array(i);let h=[];(o?function(t,e,s,i,r){let n,o,l,u=s.length,a=0,h=!1,c=[];if(t.forEach(((t,d)=>{l=t.key,o=null,null!=l&&(o=e.get(l),o&&e.delete(l)),o||a==u||(o=s[a++]),n={newVN:t},o?o===t?(n.action=3,n.oldVN=o,h=!0):o.constructor!==t.constructor||void 0!==o.isUpdatePossible&&!o.isUpdatePossible(t)?(n.action=1,r.push(o)):(n.action=2,n.oldVN=o,h=!0):(n.action=1,c.push(n)),i[d]=n})),e.size>0){let t,s=c.length,i=0;e.forEach((e=>{n=i<s?c[i++]:null,n?(t=n.newVN,e===t?(n.action=3,n.oldVN=e,h=!0):e.constructor!==t.constructor||void 0!==e.isUpdatePossible&&!e.isUpdatePossible(t)?r.push(e):(n.action=2,n.oldVN=e,h=!0)):r.push(e)})),e.clear()}if(h)for(let t=a;t<u;t++)r.push(s[t]);return h}(e,u,a,t.subNodeDisps,h):function(t,e,s,i,r){let n,o,l,u=s.length,a=0,h=!1;if(t.forEach(((t,c)=>{l=t.key,o=null,null!=l&&(o=e.get(l),o&&e.delete(l)),o||l||a==u||(o=s[a++]),n={newVN:t},o?o===t?(n.action=3,n.oldVN=o,h=!0):l!==o.key||o.constructor!==t.constructor||void 0!==o.isUpdatePossible&&!o.isUpdatePossible(t)?(n.action=1,r.push(o)):(n.action=2,n.oldVN=o,h=!0):n.action=1,i[c]=n})),h){e.forEach((t=>r.push(t)));for(let t=a;t<u;t++)r.push(s[t])}return h}(e,u,a,t.subNodeDisps,h))?(h.length>0&&(t.subNodesToRemove=h),i>8&&(t.subNodeGroups=function(t){let e,s,i,r=t.length,n={action:t[0].action,first:0},o=[n];for(let l=1;l<r;l++)s=t[l],e=s.action,e!==n.action?(n.last=l-1,n.count=l-n.first,n={action:e,first:l},o.push(n)):1!==e&&(i=t[l-1].oldVN,i&&i.index+1===s.oldVN.index||(n.last=l-1,n.count=l-n.first,n={action:e,first:l},o.push(n)));return n.last=r-1,n.count=r-n.first,o}(t.subNodeDisps))):(t.replaceAllSubNodes=!0,t.subNodeDisps=null)}function E(t){if(t.ownDN)return t.ownDN;if(!t.subNodes)return null;let e;for(let s of t.subNodes)if(e=E(s))return e;return null}function V(t){if(t.ownDN)return t.ownDN;if(!t.subNodes)return null;let e;for(let s=t.subNodes.length-1;s>=0;s--)if(e=V(t.subNodes[s]))return e;return null}function D(t){if(t.ownDN)return[t.ownDN];if(!t.subNodes)return null;let e=[];return t.subNodes.forEach((t=>M(t,e))),0===e.length?null:e}function M(t,e){t.ownDN?e.push(t.ownDN):t.subNodes&&t.subNodes.forEach((t=>M(t,e)))}function A(t,e){if(t.subNodes&&t.subNodes.length>0){let e=V(t.subNodes[t.subNodes.length-1]);if(e){let t=e.nextSibling;if(t)return t}}if(!t.parent)return null;let s=t.parent.subNodes;for(let e=t.index+1;e<s.length;e++){let t=s[e];if(!t.anchorDN)return null;const i=V(t);if(i)return i}return t.parent.anchorDN!==e?null:A(t.parent,e)}function T(t){if(null==t)return null;{let s=t[e.symToVNs]();return s?Array.isArray(s)?s:[s]:null}}e.setCurrentClassComp=function(t){let e=d;return d=t,e},e.wrapCallback=p,e.requestNodeUpdate=function(t){if(t.anchorDN||console.warn(`Update requested for virtual node '${function(t){let e=[];for(let s=t;s;s=s.parent)e.push(s.name);return e}(t).join("->")}' that doesn't have anchor DOM node`),n.add(t),t instanceof r.ClassCompVN){let e=t.comp;e.beforeUpdate&&1!==a&&o.set(e.beforeUpdate,p(e.beforeUpdate,e,e)),e.afterUpdate&&l.set(e.afterUpdate,p(e.afterUpdate,e,e))}c||0!==u||1===a||(u=requestAnimationFrame(m))},e.scheduleFuncCall=function(t,e,s,i){e?o.has(t)||(o.set(t,p(t,s,i)),c||0!==u||(u=requestAnimationFrame(m))):l.has(t)||(l.set(t,p(t,s,i)),c||0!==u||1===a||2===a||(u=requestAnimationFrame(m)))},e.symToVNs=Symbol(),Boolean.prototype[e.symToVNs]=function(t){return null},String.prototype[e.symToVNs]=function(t){if(0===this.length)return null;let e=new r.TextVN(this);return t&&t.push(e),e},i.Component.prototype[e.symToVNs]=function(t){let e=this.vn?this.vn:new r.IndependentCompVN(this);return t&&t.push(e),e},Function.prototype[e.symToVNs]=function(t){let e=new r.FuncProxyVN(d,this);return t&&t.push(e),e},Array.prototype[e.symToVNs]=function(t){return 0===this.length?null:(t||(t=[]),this.forEach((s=>{null!=s&&(s instanceof r.VN?t.push(s):s[e.symToVNs](t))})),t.length>0?t:null)},r.VN.prototype[e.symToVNs]=function(t){return t&&t.push(this),this},Promise.prototype[e.symToVNs]=function(t){let e=new r.PromiseProxyVN({promise:this});return t&&t.push(e),e},Object.prototype[e.symToVNs]=function(t){let e=this.toString();if(!e)return null;let s=new r.TextVN(e);return t&&t.push(s),s},e.symJsxToVNs=Symbol(),String.prototype[e.symJsxToVNs]=function(t,s){if(0===s.length)return new r.ElmVN(d,this,t,null);let i=[];return s.forEach((t=>{null!=t&&(t instanceof r.VN?i.push(t):t[e.symToVNs](i))})),new r.ElmVN(d,this,t,i.length>0?i:null)},i.Fragment[e.symJsxToVNs]=function(t,s){if(0===s.length)return new r.ElmVN(d,this,t,null);let i=[];return s.forEach((t=>{null!=t&&(t instanceof r.VN?i.push(t):t[e.symToVNs](i))})),i.length>0?i:null},i.FuncProxy[e.symJsxToVNs]=function(t,e){return new r.FuncProxyVN(d,t.func,t.funcThisArg,t.arg,t.key)},i.PromiseProxy[e.symJsxToVNs]=function(t,e){return t&&t.promise?new r.PromiseProxyVN(t,e):null},i.Component[e.symJsxToVNs]=function(t,e){return new r.ManagedCompVN(this,t,1===e.length&&Array.isArray(e[0])?e[0]:e)},Function.prototype[e.symJsxToVNs]=function(t,s){let i=this(t,1===s.length&&Array.isArray(s[0])?s[0]:s);return i&&i[e.symToVNs]()}},262:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unmountRoot=e.mountRoot=e.RootVN=void 0;const i=s(26);class r extends i.VN{constructor(t){super(),this.error=!1,this.waiting=!1,this.thrownPromises=new Set,this.anchorDN=t,this.supportsErrorHandling=!0}get name(){return"Root"}setContent(t,e){this.content=t,this.requestUpdate()}render(){return this.error||this.waiting?null:this.content}willMount(){this.publishService("StdErrorHandling",this)}willUnmount(){this.unpublishService("StdErrorHandling")}handleError(t){if(t instanceof Promise){let e=t;this.thrownPromises.add(e),e.then((()=>{this.onPromiseFulfilled(e)})),e.catch((()=>{this.onPromiseFulfilled(e)})),this.waiting=!0}else console.error("Unhandled error\n",t),this.error=!0}restart(){this.error=!1,this.requestUpdate()}reportError(t){this.handleError(t),this.requestUpdate()}onPromiseFulfilled(t){this.thrownPromises.delete(t),0===this.thrownPromises.size&&(this.waiting=!1,this.requestUpdate())}}e.RootVN=r;let n=Symbol("symRootMountPoint");e.mountRoot=function(t,e){let s=e||document.body,i=s[n];i||(i=new r(s),s[n]=i,i.willMount()),i.setContent(t,!1)},e.unmountRoot=function(t){let e=t||document.body;if(!e)return;let s=e[n];s&&(delete e[n],s.setContent(null,!1),i.scheduleFuncCall((()=>s.willUnmount()),!1))}},493:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.s_initStyleScheduler=void 0;const i=s(868),r=s(26);class n{init(t){this.doDOMUpdate=t}scheduleDOMUpdate(){r.scheduleFuncCall(this.onUpdate,!1,this)}cancelDOMUpdate(){}onUpdate(){this.doDOMUpdate()}}e.s_initStyleScheduler=function(){let t=i.registerScheduler(new n);return i.setDefaultSchedulerType(t),t}},988:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextVN=void 0;const i=s(26);class r extends i.VN{constructor(t){super(),this.text=t}get textNode(){return this.ownDN}get name(){return"#text"}setText(t){t!==this.text&&(this.text=t,super.requestPartialUpdate())}mount(){this.ownDN=document.createTextNode(this.text)}update(t){return this.text!==t.text&&(this.ownDN.nodeValue=this.text=t.text),!1}performPartialUpdate(){return this.ownDN.nodeValue=this.text,null}}e.TextVN=r,r.prototype.unmount=void 0,r.prototype.render=void 0,r.prototype.isUpdatePossible=void 0,r.prototype.didUpdate=void 0,r.prototype.ignoreUnmount=!1},565:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VN=void 0;const i=s(502),r=s(26);e.VN=class{constructor(){}get isMounted(){return!!this.anchorDN}get depth(){let t=0;for(let e=this.parent;e;e=e.parent)t++;return t}requestUpdate(){this.updateRequested||(r.requestNodeUpdate(this),this.updateRequested=!0)}requestPartialUpdate(){this.partialUpdateRequested||(r.requestNodeUpdate(this),this.partialUpdateRequested=!0)}publishService(t,e){void 0===this.publishedServices&&(this.publishedServices=new Map),this.publishedServices.get(t)!==e&&(this.publishedServices.set(t,e),r.notifyServicePublished(t,this))}unpublishService(t){void 0!==this.publishedServices&&(this.publishedServices.delete(t),r.notifyServiceUnpublished(t,this),0===this.publishedServices.size&&(this.publishedServices=void 0))}subscribeService(t,e,s,o){void 0===this.subscribedServices&&(this.subscribedServices=new Map);let l=new n;l.ref=e,l.defaultService=s,l.useSelf=!!o,this.subscribedServices.set(t,l),r.notifyServiceSubscribed(t,this),i.setRef(e,this.getService(t,s))}unsubscribeService(t){if(void 0===this.subscribedServices)return;let e=this.subscribedServices.get(t);void 0!==e&&(i.setRef(e.ref,void 0),this.subscribedServices.delete(t),r.notifyServiceUnsubscribed(t,this),0===this.subscribedServices.size&&(this.subscribedServices=void 0))}getService(t,e,s){let i=this.findService(t,s);return void 0!==i?i:e}findService(t,e){if(e&&void 0!==this.publishedServices){let e=this.publishedServices.get(t);if(void 0!==e)return e}return this.parent?this.parent.findService(t,!0):void 0}notifyServiceChanged(t){if(void 0===this.subscribedServices)return;let e=this.subscribedServices.get(t);void 0!==e&&i.setRef(e.ref,this.getService(t,e.defaultService))}};class n{}},727:function(t,e,s){var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),r=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||i(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.mimblStyleSchedulerType=void 0,r(s(65),e),r(s(968),e),r(s(161),e),r(s(698),e),r(s(212),e),r(s(502),e),r(s(630),e);const n=s(26);e.mimblStyleSchedulerType=n.s_initStyleScheduler()},26:function(t,e,s){var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),r=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||i(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(s(245),e),r(s(65),e),r(s(968),e),r(s(587),e),r(s(565),e),r(s(224),e),r(s(434),e),r(s(500),e),r(s(478),e),r(s(816),e),r(s(624),e),r(s(988),e),r(s(262),e),r(s(493),e),r(s(427),e),r(s(483),e)},65:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createMultiEventSlot=e.EventSlot=void 0;class s{constructor(){this.fire=this.realFire}attach(t){this.listeners||(this.listeners=new Set),this.listeners.add(t)}detach(t){this.listeners&&(this.listeners.delete(t),0===this.listeners.size&&(this.listeners=null))}get count(){return this.listeners?this.listeners.size:0}clear(){this.listeners=null}realFire(){if(this.listeners)for(let t of this.listeners)t(...arguments)}}e.EventSlot=s,e.createMultiEventSlot=function(){return new Proxy({},new i)};class i{get(t,e,s){return this[e]?this[e]:new r(this,e)}}class r{constructor(t,e){this.handler=t,this.prop=e}fire(){this.slot&&this.slot.fire(...arguments)}clear(){this.slot&&this.slot.clear()}attach(t){this.slot||(this.slot=this.handler[this.prop]=new s),this.slot.attach(t)}detach(t){this.slot&&this.slot.detach(t)}get count(){return this.slot?this.slot.count:0}}},968:(t,e)=>{var s;function i(t,e){return new r(t<0?0:t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.computed=e.trigger=e.createMutator=e.createComputedTrigger=e.exitMutationScope=e.enterMutationScope=e.createWatcher=e.createTrigger=void 0,function(t){t[t.Value=0]="Value",t[t.Shallow=1]="Shallow",t[t.Deep=100]="Deep"}(s||(s={})),e.createTrigger=i;class r{constructor(t,e){this.watchers=new Set,this.depth=t,this.v=p(e,this,t)}get(){return this.notifyRead(),this.v}set(t){t!==this.v&&(this.v=p(t,this,this.depth),this.notifyChanged())}notifyRead(){u.notifyTriggerRead(this)}notifyChanged(){this.watchers.size>0&&u.notifyTriggerChanged(this)}}let n=Symbol("symWatcher");function o(t,e,s,i){function r(...t){return r[n].execute(this,t)}return r[n]=new l(t,e,s,i),r.dispose=function(){let t=r[n];t&&t.dispose(),delete r[n]},r}e.createWatcher=o;class l{constructor(t,e,s,i){this.triggers=new Set,this.func=t,this.responder=e,this.funcThis=s,this.responderThis=i||s}execute(t,e){if(!this.func)throw new Error("Disposed watcher was called.");!this.funcThis&&t&&(this.funcThis=t,this.responderThis||(this.responderThis=t)),this.clean(),u.pushWatcher(this);try{return this.func.apply(this.funcThis,e)}finally{u.popWatcher()}}dispose(){this.func&&(this.clean(),this.func=null,this.responder=null,this.funcThis=null,this.responderThis=null)}respond(){this.responder&&this.responder.apply(this.responderThis)}clean(){this.triggers.forEach((t=>t.watchers.delete(this))),this.triggers.clear(),u.removeDeferredWatcher(this)}}let u=new class{constructor(){this.watcherStack=[],this.mutationScopesRefCount=0,this.deferredWatchers=new Set}pushWatcher(t){this.watcherStack.push(t)}popWatcher(){this.watcherStack.pop()}removeDeferredWatcher(t){this.deferredWatchers.delete(t)}enterMutationScope(){this.mutationScopesRefCount++}exitMutationScope(){if(0===this.mutationScopesRefCount)throw Error("Unpaired call to exitMutationScope");if(0==--this.mutationScopesRefCount){let t=Array.from(this.deferredWatchers.keys());this.deferredWatchers.clear(),t.forEach((t=>t.respond()))}}notifyTriggerRead(t){for(let e of this.watcherStack)e.triggers.add(t),t.watchers.add(e)}notifyTriggerChanged(t){this.mutationScopesRefCount>0?t.watchers.forEach((t=>this.deferredWatchers.add(t))):Array.from(t.watchers.keys()).forEach((t=>t.respond()))}};function a(t,e){return new h(t,e)}e.enterMutationScope=function(){u.enterMutationScope()},e.exitMutationScope=function(){u.exitMutationScope()},e.createComputedTrigger=a;class h extends r{constructor(t,e){super(s.Value),this.func=t,this.funcThis=e,this.isStale=!0}get(){return this.isStale&&(this.funcWatcher||(this.funcWatcher=o(this.func,this.responder,this.funcThis,this)),super.set(this.funcWatcher()),this.isStale=!1),super.get()}dispose(){this.func&&(this.funcWatcher&&(this.funcWatcher.dispose(),this.funcWatcher=null),this.func=null)}responder(){this.watchers.size>0?super.set(this.funcWatcher()):this.isStale=!0}}let c=Symbol("symMutator");e.createMutator=function(t,e){function s(...t){return s[n].execute(this,t)}return s[c]=new d(t,e),s.dispose=function(){let t=s[c];t&&t.dispose(),delete s[c]},s};class d{constructor(t,e){this.func=t,this.funcThis=e}execute(t,e){if(!this.func)throw new Error("Disposed mutator was called.");!this.funcThis&&t&&(this.funcThis=t),u.enterMutationScope();try{return this.func.apply(this.funcThis,e)}finally{u.exitMutationScope()}}dispose(){this.func&&(this.func=null,this.funcThis=null)}}function p(t,e,i){return t&&0!==i?Array.isArray(t)?new Proxy(t,new f(e,(i||s.Shallow)-1)):t instanceof Map?new Proxy(t,new y(e,(i||s.Shallow)-1)):t instanceof Set?new Proxy(t,new g(e,(i||s.Shallow)-1)):t.constructor===Object?new Proxy(t,new f(e,(i||s.Deep)-1)):t:t}class f{constructor(t,e){this.trigger=t,this.depth=e}get(t,e,s){return this.trigger.notifyRead(),Reflect.get(t,e,s)}set(t,e,s,i){return Reflect.get(t,e,i)==s||(this.trigger.notifyChanged(),Reflect.set(t,e,p(s,this.trigger,this.depth),i))}deleteProperty(t,e){return this.trigger.notifyChanged(),Reflect.deleteProperty(t,e)}defineProperty(t,e,s){return this.trigger.notifyChanged(),Reflect.defineProperty(t,e,s)}has(t,e){return this.trigger.notifyRead(),Reflect.has(t,e)}getPrototypeOf(t){return this.trigger.notifyRead(),Reflect.getPrototypeOf(t)}isExtensible(t){return this.trigger.notifyRead(),Reflect.isExtensible(t)}getOwnPropertyDescriptor(t,e){return this.trigger.notifyRead(),Reflect.getOwnPropertyDescriptor(t,e)}ownKeys(t){return this.trigger.notifyRead(),Reflect.ownKeys(t)}}class m{constructor(t,e,s){this.wrappedMethods=new Map,this.trigger=t,this.mutatorMethodNames=e,this.depth=s}get(t,e,s){this.trigger.notifyRead();let i=this,r=this.wrappedMethods.get(e);if(!r){let s=t[e];if("function"!=typeof s)return s;let n=s.bind(t);r=this.mutatorMethodNames.has(e)?function(){let s=i.callOrgMutatorMethod(t,e,n,...arguments);return s[1]&&i.trigger.notifyChanged(),s[0]}:function(){return i.trigger.notifyRead(),n(...arguments)},this.wrappedMethods.set(e,r)}return r}callOrgMutatorMethod(t,e,s,...i){return[void 0,!1]}}class y extends m{constructor(t,e){super(t,y.mutatorMethodNames,e)}callOrgMutatorMethod(t,e,s,...i){if("clear"===e){let e=t.size>0;return s(),[void 0,e]}if("set"===e)return[s(i[0],p(i[1],this.trigger,this.depth)),!0];if("delete"===e){let t=s(i[0]);return[t,t]}}}y.mutatorMethodNames=new Set(["clear","delete","set"]);class g extends m{constructor(t,e){super(t,g.mutatorMethodNames,e)}callOrgMutatorMethod(t,e,s,...i){if("add"===e)return[s(p(i[0],this.trigger,this.depth)),!0];if("clear"===e){let e=t.size>0;return s(),[void 0,e]}if("delete"===e){let t=s(i[0]);return[t,t]}}}function v(t,e,s){let r=Symbol(s+"_trigger");Object.defineProperty(e,s,{get(){let e=this[r];return e||(this[r]=e=i(t)),e.get()},set(e){let s=this[r];s?s.set(e):this[r]=s=i(t,e)}})}g.mutatorMethodNames=new Set(["add","delete","clear"]),e.trigger=function(t,e){return"number"==typeof t?v.bind(void 0,t):v(void 0,t,e)},e.computed=function(t,e,s){let i=Symbol(e);if(s.value){let t=s.value;s.value=function(e){let s=this[i];return s||(this[i]=s=a(t,this)),s.get()}}else{if(!s.get)throw new Error("@computed property requires get() accessor");let t=s.get;if(s.get=function(){let e=this[i];return e||(this[i]=e=a(t,this)),e.get()},s.set){let t=s.set;s.set=function(e){u.enterMutationScope();try{t.call(this,e)}finally{u.exitMutationScope()}}}}}},245:(t,e)=>{function s(t,e,i=-1){if(t===e)return!0;if(null==t&&null==e)return!0;if(0===i)return!1;if(null==t||null==e)return!1;if(typeof t!=typeof e)return!1;if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(!s(t[r],e[r],i-1))return!1;return!0}if("object"==typeof t){for(let r in t)if(!s(t[r],e[r],i-1))return!1;for(let s in e)if(!(s in t))return!1;return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.s_isSvgSvg=e.s_isSvg=e.s_deepCompare=e.s_shallowCompare=void 0,e.s_shallowCompare=function(t,e){return s(t,e,1)},e.s_deepCompare=s,e.s_isSvg=function(t){return"ownerSVGElement"in t},e.s_isSvgSvg=function(t){return"svg"===t.tagName}},868:e=>{e.exports=t}},s={};return function t(i){if(s[i])return s[i].exports;var r=s[i]={exports:{}};return e[i].call(r.exports,r,r.exports,t),r.exports}(727)})()}));
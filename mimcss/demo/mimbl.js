!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mimcss")):"function"==typeof define&&define.amd?define(["mimcss"],t):"object"==typeof exports?exports.mimbl=t(require("mimcss")):e.mimbl=t(e.mimcss)}(this,(function(e){return function(e){var t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=12)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(7);t.Ref=class{constructor(e,t){this.changedEvent=new r.EventSlot,void 0!==e&&this.changedEvent.attach(e),this._r=t}addListener(e){this.changedEvent.attach(e)}removeListener(e){this.changedEvent.detach(e)}get r(){return this._r}set r(e){this._r!==e&&(this._r=e,this.changedEvent.fire(e))}clear(){this._r=void 0,this.changedEvent.clear()}},t.setRef=function(e,t,s){if("object"==typeof e){let r=e;void 0!==s&&r.r!==s||(r.r=t)}else"function"==typeof e&&e(t)},t.Fragment=function(e){},t.isSvg=function(e){return"ownerSVGElement"in e},t.isSvgSvg=function(e){return"svg"===e.tagName};const i=s(5);t.jsx=function(e,t,...s){return i.createNodesFromJSX(e,t,s)};const n=s(9);t.registerCustomAttribute=function(e,t){n.ElmAttr.registerProperty(e,{type:3,handlerClass:t})},t.registerCustomEvent=function(e){n.ElmAttr.registerProperty(e,{type:2})};const o=s(10);t.mergeSlices=function(...e){return o.mergeSlices(...e)},t.mergeSlicesTo=function(e,...t){o.mergeSlicesTo(e,...t)},t.mergeClasses=function(...e){return o.mergeClasses(...e)},t.mergeStyles=function(...e){return o.mergeStyles(...e)},t.mergeStylesTo=function(e,...t){o.mergeStylesTo(e,...t)};const u=s(3);t.wrapCallback=function(e,t,s){return u.wrapCallbackWithVN(e,t,s)};const l=s(11);class c{constructor(e){e&&(this.props=e)}updateMe(...e){if(this.vn)if(0===e.length)this.vn.requestUpdate();else for(let t of e)"function"==typeof t?l.FuncProxyVN.update(t,void 0,this):l.FuncProxyVN.update(t.func,t.key,t.thisArg?t.thisArg:this,!t.args||Array.isArray(t.args)?t.args:[t.args])}callMeBeforeUpdate(e,t){this.vn&&this.vn.scheduleCallBeforeUpdate(e,t||this)}callMeAfterUpdate(e,t){this.vn&&this.vn.scheduleCallAfterUpdate(e,t||this)}wrapCallback(e,t){return u.wrapCallbackWithVN(e,this,this.vn)}}t.Component=c;t.FuncProxy=class extends c{constructor(e){super(e)}render(){}static update(e,t,s,...r){l.FuncProxyVN.update(e,t,s,r)}};t.PromiseProxy=class extends c{constructor(e){super(e)}render(){}};const a=s(22);t.mountSync=function(e,t=null){a.mountRootSync(e,t)},t.unmountSync=function(e=null){a.unmountRootSync(e)},t.mount=function(e,t=null){a.mountRoot(e,t)},t.unmount=function(e=null){a.unmountRoot(e)};const h=s(24);t.mimblStyleSchedulerType=h.initializeMimblStyleScheduler(),t.updatable=function(e,t){let s="_m_"+t;Object.defineProperty(e,t,{set(e){if(this[s]!==e){this[s]=e;let t=this.vn;t&&!t.updateRequested&&this.vn.requestUpdate()}},get(){return this[s]}})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),i=s(3),n=s(14);t.VNBase=class{init(e,t){this.parent=e,this.depth=this.parent?this.parent.depth+1:0,this.creator=t}term(){void 0!==this.publishedServices&&(this.publishedServices.forEach((e,t)=>n.notifyServiceUnpublished(t,this)),this.publishedServices.clear()),void 0!==this.subscribedServices&&(this.subscribedServices.forEach((e,t)=>{n.notifyServiceUnsubscribed(t,this)}),this.subscribedServices.clear()),this.next=void 0,this.prev=void 0,this.subNodes=void 0,this.keyedSubNodes=void 0,this.creator=void 0,this.depth=void 0,this.parent=void 0}get isMounted(){return!!this.anchorDN}requestUpdate(){this.updateRequested||(i.requestNodeUpdate(this),this.updateRequested=!0)}scheduleCallBeforeUpdate(e,t){i.scheduleFuncCall(e,!0,t,this)}scheduleCallAfterUpdate(e,t){i.scheduleFuncCall(e,!1,t,this)}publishService(e,t){void 0===this.publishedServices&&(this.publishedServices=new Map),this.publishedServices.get(e)!==t&&(this.publishedServices.set(e,t),n.notifyServicePublished(e,this))}unpublishService(e){void 0!==this.publishedServices&&(this.publishedServices.delete(e),n.notifyServiceUnpublished(e,this),0===this.publishedServices.size&&(this.publishedServices=void 0))}subscribeService(e,t,s,i){void 0===this.subscribedServices&&(this.subscribedServices=new Map);let u=new o;u.ref=t,u.defaultService=s,u.useSelf=!!i,this.subscribedServices.set(e,u),n.notifyServiceSubscribed(e,this),r.setRef(t,this.getService(e,s))}unsubscribeService(e){if(void 0===this.subscribedServices)return;let t=this.subscribedServices.get(e);void 0!==t&&(r.setRef(t.ref,void 0),this.subscribedServices.delete(e),n.notifyServiceUnsubscribed(e,this),0===this.subscribedServices.size&&(this.subscribedServices=void 0))}getService(e,t,s){let r=this.findService(e,s);return void 0!==r?r:t}findService(e,t){if(t&&void 0!==this.publishedServices){let t=this.publishedServices.get(e);if(void 0!==t)return t}return this.parent?this.parent.findService(e,!0):void 0}notifyServiceChanged(e){if(void 0===this.subscribedServices)return;let t=this.subscribedServices.get(e);void 0!==t&&r.setRef(t.ref,this.getService(e,t.defaultService))}wrapCallback(e,t){return i.wrapCallbackWithVN(e,t,this)}};class o{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.shouldCommit=e,this.shouldRender=t}static getStockValue(e,t){return e?t?r.DoCommitDoRender:r.DoCommitNoRender:t?r.NoCommitDoRender:r.NoCommitNoRender}}function i(e){if(e.ownDN)return e.ownDN;if(!e.subNodes)return null;let t;for(let s=e.subNodes.length-1;s>=0;s--)if(t=i(e.subNodes[s]),null!=t)return t;return null}t.VNUpdateDisp=r,r.DoCommitDoRender=new r(!0,!0),r.DoCommitNoRender=new r(!0,!1),r.NoCommitDoRender=new r(!1,!0),r.NoCommitNoRender=new r(!1,!1),t.getFirstDN=function e(t){if(t.ownDN)return t.ownDN;if(!t.subNodes)return null;let s;for(let r of t.subNodes)if(s=e(r),s)return s;return null},t.getLastDN=i,t.getImmediateDNs=function(e){let t=[];return function e(t,s){if(t.ownDN)s.push(t.ownDN);else if(t.subNodes)for(let r of t.subNodes)e(r,s)}(e,t),t},t.getNextDNUnderSameAnchorDN=function e(t,s){if(t.subNodes&&t.subNodes.length>0){let e=i(t.subNodes[t.subNodes.length-1]);if(e){let t=e.nextSibling;if(null!==t)return t}}for(let e=t.next;void 0!==e;e=e.next){if(!e.anchorDN)return null;const t=i(e);if(t)return t}return t.parent&&t.parent.anchorDN===s?e(t.parent,s):null},t.getVNPath=function(e){let t=e.depth,s=Array(t);for(let r=0,i=e;r<t;r++,i=i.parent)s[r]=i.name+(i.creator&&i.creator.vn?` (created by ${i.creator.vn.name})`:"");return s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),i=s(5),n=s(13),o=s(4);var u;!function(e){e[e.Idle=0]="Idle",e[e.BeforeUpdate=1]="BeforeUpdate",e[e.Update=2]="Update",e[e.AfterUpdate=3]="AfterUpdate"}(u||(u={}));class l extends Map{}let c=new Set,a=new l,h=new l,d=0,p=u.Idle,f=0;function m(e,t,s){return y.bind(s,t,e)}function y(){let e=t.s_currentVN,s=t.s_currentClassComp;this&&(t.s_currentVN=this,t.s_currentClassComp=t.s_currentVN.comp?t.s_currentVN.comp:t.s_currentVN.creator);try{o.enterMutationScope();let[r,i,...n]=arguments;return i.apply(r,n)}catch(e){if(!this)throw e;{let t=this.findService("StdErrorHandling");if(!t)throw e;t.reportError(e,r.getVNPath(this))}}finally{o.exitMutationScope(),this&&(t.s_currentVN=e,t.s_currentClassComp=s)}}function v(){0===d&&(d=requestAnimationFrame(g))}t.s_currentVN=null,t.s_currentClassComp=null,t.updateNodeSync=function(e){f++;let t=new Array(1);t[0]=[e],p=u.Update,b(N(t)),p=u.Idle},t.requestNodeUpdate=function(e){if(e.anchorDN||console.warn(`Update requested for virtual node '${r.getVNPath(e).join("->")}' that doesn't have anchor DOM node`),c.add(e),1===e.type||2===e.type){let t=e.comp;t.beforeUpdate&&p!==u.BeforeUpdate&&a.set(t.beforeUpdate,m(t.beforeUpdate,t,e)),t.afterUpdate&&h.set(t.afterUpdate,m(t.beforeUpdate,t,e))}p!==u.BeforeUpdate&&v()},t.scheduleFuncCall=function(e,t,s,r){t?a.has(e)||(a.set(e,m(e,s,r)),v()):h.has(e)||(h.set(e,m(e,s,r)),p!==u.BeforeUpdate&&p!==u.Update&&v())},t.wrapCallbackWithVN=m;let g=()=>{if(d=0,f++,a.size>0){p=u.BeforeUpdate;let e=a;a=new l,S(e,!0)}if(c.size>0){p=u.Update;let e=c;c=new Set,b(N(function(e){let t=new Array(100);return e.forEach(e=>{let s=t[e.depth];s||(s=[],t[e.depth]=s),s.push(e)}),t}(e)))}if(h.size>0){p=u.AfterUpdate;let e=h;h=new l,S(e,!1)}p=u.Idle};function N(e){let s,i=[];return e.forEach(e=>{e.forEach(e=>{try{if(e.updateRequested=!1,e.lastUpdateTick===f)return;s=new n.VNDisp(e,0,e),_(s),i.push(s)}catch(s){let i=e.getService("StdErrorHandling",void 0,!1);if(!i)throw s;i.reportError(s,t.s_currentVN?r.getVNPath(t.s_currentVN):null)}t.s_currentVN=null})}),i}function b(e){e.forEach(e=>{k(e)})}function S(e,t){e.forEach((e,s)=>{try{e()}catch(e){console.error(`Exception while invoking function ${t?"before":"after"} updating components\n`,e)}})}function w(e,s){e.init(s,t.s_currentClassComp);let i=e;t.s_currentVN=i;let n=t.s_currentClassComp;if(e.comp&&(t.s_currentClassComp=e.comp),e.willMount)try{e.willMount()}catch(s){if(!e.supportsErrorHandling||!e.supportsErrorHandling())throw s;e.handleError(s,r.getVNPath(t.s_currentVN)),e.willMount()}if(e.render)try{C(e)}catch(s){if(!e.supportsErrorHandling||!e.supportsErrorHandling())throw s;e.handleError(s,r.getVNPath(t.s_currentVN)),C(e)}t.s_currentVN=i,t.s_currentClassComp=n}function C(e){if(e.subNodes=i.createVNChainFromContent(e.render()),e.subNodes){let t;e.subNodes.length>1&&(e.keyedSubNodes=new Map);for(let s of e.subNodes)w(s,e),void 0!==e.keyedSubNodes&&void 0!==s.key&&e.keyedSubNodes.set(s.key,s),t&&(t.next=s,s.prev=t),t=s}}function D(e,t,s){e.anchorDN=t;let r=e.mount?e.mount():void 0;if(r&&e.anchorDN.insertBefore(r,s),e.subNodes){let i=r||t,n=r?null:s;for(let t of e.subNodes)D(t,i,n)}e.didMount&&e.didMount()}function V(e){if(e.subNodes)for(let t of e.subNodes)V(t);if(e.willUnmount)try{e.willUnmount()}catch(t){console.error(`Node ${e.name} threw exception '${t.message}' in willUnmount`)}}function U(e){let t=e.ownDN;if(e.unmount&&e.unmount(),t)t.remove();else if(e.subNodes)for(let t=e.subNodes.length-1;t>=0;t--)U(e.subNodes[t]);e.term(),e.anchorDN=void 0}function _(e){let s=e.oldVN,i=s;t.s_currentVN=i;let n=t.s_currentClassComp;s.comp&&(t.s_currentClassComp=s.comp);try{A(e)}catch(i){if(!s.supportsErrorHandling||!s.supportsErrorHandling())throw i;s.handleError(i,r.getVNPath(t.s_currentVN)),A(e)}s.lastUpdateTick=f,t.s_currentVN=i,t.s_currentClassComp=n}function A(e){if(e.buildSubNodeDispositions(),e.subNodesToRemove)for(let t of e.subNodesToRemove)V(t);if(e.subNodeDisps){let t,s,r=e.oldVN;for(let i of e.subNodeDisps)t=i.oldVN,s=i.newVN,2===i.action?(t.renderOnUpdate||t!==s)&&t.prepareUpdate&&(i.updateDisp=t.prepareUpdate(s),i.updateDisp.shouldRender&&_(i)):1===i.action&&w(s,r)}}function k(e){if(e.subNodesToRemove)for(let t of e.subNodesToRemove)U(t);let t=e.oldVN;if(!t.anchorDN)return;let s=t.ownDN,i=null!=s?s:t.anchorDN,n=null!=s?null:r.getNextDNUnderSameAnchorDN(t,i);t.subNodes=e.subNodeDisps?new Array(e.subNodeDisps.length):void 0,t.keyedSubNodes=void 0!==t.subNodes&&t.subNodes.length>1?new Map:void 0,e.subNodeGroups?(function(e,t,s,i,n){let o,u,l,c,a,h,d=t.length-1;for(let p=s.length-1;p>=0;p--){let f=s[p];for(let s=f.last;s>=f.first;s--)l=t[s],c=l.newVN,a=l.oldVN,u=2===f.action?a:c,e.subNodes[d--]=u,2===f.action?((a.renderOnUpdate||a!==c)&&(l.updateDisp.shouldCommit&&a.commitUpdate(c),l.updateDisp.shouldRender&&k(l)),h=r.getFirstDN(a),null!=h&&(n=h)):1===f.action&&(D(c,i,n),h=r.getFirstDN(c),null!=h&&(n=h)),void 0!==e.keyedSubNodes&&void 0!==u.key&&e.keyedSubNodes.set(u.key,u),u.next=u.prev=void 0,o&&(o.prev=u,u.next=o),o=u;f.determineDNs(),f.firstDN&&(n=f.firstDN)}}(t,e.subNodeDisps,e.subNodeGroups,i,n),function(e,t,s,r,i){for(let n=s.length-1;n>0;n--){let o=s[n],u=s[n-1];null!=o.lastDN&&(o.lastDN.nextSibling!==i&&(o.lastDN.nextSibling===u.firstDN&&o.count>u.count?P(e,t,u,r,o.firstDN):P(e,t,o,r,i)),i=o.firstDN)}}(t,e.subNodeDisps,e.subNodeGroups,i,n)):e.subNodeDisps&&function(e,t,s,i){let n,o,u,l,c,a;for(let h=t.length-1;h>=0;h--){if(u=t[h],l=u.newVN,c=u.oldVN,o=2===u.action?c:l,e.subNodes[h]=o,2===u.action){(c.renderOnUpdate||c!==l)&&(u.updateDisp.shouldCommit&&c.commitUpdate(l),u.updateDisp.shouldRender&&k(u));let e=r.getImmediateDNs(c);if(e.length>0){if(e[e.length-1].nextSibling!==i)for(let t of e)s.insertBefore(t,i);i=e[0]}}else 1===u.action&&(D(l,s,i),a=r.getFirstDN(l),null!=a&&(i=a));void 0!==e.keyedSubNodes&&void 0!==o.key&&e.keyedSubNodes.set(o.key,o),o.next=o.prev=void 0,n&&(n.prev=o,o.next=n),n=o}}(t,e.subNodeDisps,i,n)}function P(e,t,s,i,n){for(let e=s.first;e<=s.last;e++){let o=2===s.action?t[e].oldVN:t[e].newVN,u=r.getImmediateDNs(o);for(let e of u)i.insertBefore(e,n)}}},function(e,t,s){"use strict";function r(e){return new i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createTrigger=r;class i{constructor(e){this.watchers=new Set,this.v=e}get(){return l.notifyTriggerRead(this),this.v}set(e){e!==this.v&&(this.v=e,this.watchers.size>0&&l.notifyTriggerChanged(this))}}let n=Symbol("symWatcher");function o(e,t,s,r){function i(...e){return i[n].execute(this,e)}return i[n]=new u(e,t,s,r),i.dispose=function(){let e=i[n];e&&e.dispose(),delete i[n]},i}t.createWatcher=o;class u{constructor(e,t,s,r){this.triggers=new Set,this.func=e,this.responder=t,this.funcThis=s,this.responderThis=r||s}execute(e,t){if(!this.func)throw new Error("Disposed watcher was called.");!this.funcThis&&e&&(this.funcThis=e,this.responderThis||(this.responderThis=e)),this.clean(),l.pushWatcher(this);try{return this.func.apply(this.funcThis,t)}finally{l.popWatcher()}}dispose(){this.func&&(this.clean(),this.func=null,this.responder=null,this.funcThis=null,this.responderThis=null)}respond(){this.responder&&this.responder.apply(this.responderThis)}clean(){this.triggers.forEach(e=>e.watchers.delete(this)),this.triggers.clear(),l.removeDeferredWatcher(this)}}let l=new class{constructor(){this.watcherStack=[],this.mutationScopesRefCount=0,this.deferredWatchers=new Set}pushWatcher(e){this.watcherStack.push(e)}popWatcher(){this.watcherStack.pop()}removeDeferredWatcher(e){this.deferredWatchers.delete(e)}enterMutationScope(){this.mutationScopesRefCount++}exitMutationScope(){if(0===this.mutationScopesRefCount)throw Error("Unpaired call to exitMutationScope");if(0==--this.mutationScopesRefCount){let e=Array.from(this.deferredWatchers.keys());this.deferredWatchers.clear(),e.forEach(e=>e.respond())}}notifyTriggerRead(e){for(let t of this.watcherStack)t.triggers.add(e),e.watchers.add(t)}notifyTriggerChanged(e){if(this.mutationScopesRefCount>0)e.watchers.forEach(e=>this.deferredWatchers.add(e));else{Array.from(e.watchers.keys()).forEach(e=>e.respond())}}};function c(e,t){return new a(e,t)}t.enterMutationScope=function(){l.enterMutationScope()},t.exitMutationScope=function(){l.exitMutationScope()},t.createComputedTrigger=c;class a extends i{constructor(e,t){super(),this.func=e,this.funcThis=t,this.isStale=!0}get(){return this.isStale&&(this.funcWatcher||(this.funcWatcher=o(this.func,this.responder,this.funcThis,this)),super.set(this.funcWatcher()),this.isStale=!1),super.get()}dispose(){this.func&&(this.funcWatcher&&(this.funcWatcher.dispose(),this.funcWatcher=null),this.func=null)}responder(){this.watchers.size>0?super.set(this.funcWatcher()):this.isStale=!0}}let h=Symbol("symMutator");t.createMutator=function(e,t){function s(...e){return s[n].execute(this,e)}return s[h]=new d(e,t),s.dispose=function(){let e=s[h];e&&e.dispose(),delete s[h]},s};class d{constructor(e,t){this.func=e,this.funcThis=t}execute(e,t){if(!this.func)throw new Error("Disposed mutator was called.");!this.funcThis&&e&&(this.funcThis=e),l.enterMutationScope();try{return this.func.apply(this.funcThis,t)}finally{l.exitMutationScope()}}dispose(){this.func&&(this.func=null,this.funcThis=null)}}t.trigger=function(e,t){let s=Symbol(t);Object.defineProperty(e,t,{get(){let e=this[s];return e||(this[s]=e=r()),e.get()},set(e){let t=this[s];t?t.set(e):this[s]=t=r(e)}})},t.computed=function(e,t,s){let r=Symbol(t);if(s.value){let e=s.value;s.value=function(t){let s=this[r];return s||(this[r]=s=c(e,this)),s.get()}}else{if(!s.get)throw new Error("@computed property requires get() accessor");let e=s.get;if(s.get=function(){let t=this[r];return t||(this[r]=t=c(e,this)),t.get()},s.set){let e=s.set;s.set=function(t){l.enterMutationScope();try{e.call(this,t)}finally{l.exitMutationScope()}}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),i=s(1),n=s(15),o=s(16),u=s(17),l=s(18),c=s(20),a=s(11),h=s(21),d=s(3);function p(e){if(null==e||!1===e)return null;if(e instanceof i.VNBase)return e;if("string"==typeof e)return e.length>0?new c.TextVN(e):null;if("function"==typeof e.render)return e.vn?e.vn:new n.IndependentCompVN(e);if(Array.isArray(e))return f(e);if(e instanceof Promise)return new h.PromiseProxyVN({promise:e});if("function"==typeof e){return a.FuncProxyVN.findVN(e)||new a.FuncProxyVN({func:e,thisArg:d.s_currentClassComp})}return new c.TextVN(e.toString())}function f(e){if(0===e.length)return null;let t=[];for(let s of e){let e=p(s);if(null!==e)if(Array.isArray(e))for(let s of e)t.push(s);else t.push(e)}return t.length>0?t:null}t.createNodesFromContent=p,t.createVNChainFromContent=function(e){let t=p(e);return t?Array.isArray(t)?t:[t]:null},t.createNodesFromJSX=function(e,t,s){if("string"==typeof e)return new l.ElmVN(e,t,s);if(e===r.Fragment)return f(s);if(e===r.FuncProxy){if(!t||!t.func)return;let e=t,s=a.FuncProxyVN.findVN(t.func,e.key);return s?(e.replaceArgs&&s.replaceArgs(e.args),s):new a.FuncProxyVN(t)}if(e===r.PromiseProxy){if(!t||!t.promise)return;return new h.PromiseProxyVN(t,s)}if("function"==typeof e){let r=1===s.length&&Array.isArray(s[0])?s[0]:s;return"function"==typeof e.prototype.render?new o.ManagedCompVN(e,t,r):new u.FuncVN(e,t,r)}},t.getCurrentComponent=function(){return d.s_currentClassComp}},function(t,s){t.exports=e},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.fire=this.realFire,this.listeners=null}attach(e){null===this.listeners&&(this.listeners=new Set),this.listeners.add(e)}detach(e){null!==this.listeners&&(this.listeners.delete(e),0===this.listeners.size&&(this.listeners=null))}clear(){this.listeners=null}realFire(){if(null!==this.listeners)for(let e of this.listeners)e(...arguments)}}t.EventSlot=r;t.SimpleEventSlot=class extends r{},t.createMultiEventSlot=function(){return new Proxy({},new i)};class i{get(e,t,s){return this[t]?this[t]:this[t]=new r}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(1),i=s(4);class n extends r.VNBase{get updateStrategy(){return this.comp.getUpdateStrategy?this.comp.getUpdateStrategy():void 0}render(){return this.renderWatcher()}willMount(){this.renderWatcher=i.createWatcher(this.comp.render,this.requestUpdate,this.comp,this)}willUnmount(){this.renderWatcher.dispose()}didMount(){this.comp.didMount&&this.comp.didMount()}supportsErrorHandling(){return void 0!==this.comp.handleError}handleError(e,t){this.comp.handleError(e,t)}reestablishWatcher(){this.renderWatcher.dispose(),this.renderWatcher=i.createWatcher(this.comp.render,this.requestUpdate,this.comp,this)}}t.ClassCompVN=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(6);function i(e){return null==e?"":"string"==typeof e?e:Array.isArray(e)?e.map(e=>i(e)).filter(e=>!!e).join(" "):e.toString()}class n{static registerProperty(e,t){n.propInfos[e]=t}static getPropertyInfo(e){return n.propInfos[e]}static setAttr(e,t,s,r){if(void 0===s)e.setAttribute(t,i(r));else{let n=s.attrName;void 0===n&&(n=t),void 0!==s.set?s.set(e,n,r):e.setAttribute(n,i(r))}}static updateAttr(e,t,s,r,n){if(void 0===s)return r!==n&&(e.setAttribute(t,i(n)),!0);let o;if(void 0!==s.diff){if(o=s.diff(t,r,n),void 0===o)return!1}else r!==n&&(o=n);let u=s.attrName;return void 0===u&&(u=t),void 0!==s.update?s.update(e,u,o):(void 0!==s.remove&&s.remove(e,u),void 0!==s.set?s.set(e,u,o):e.setAttribute(u,i(o))),!0}static removeAttr(e,t,s){if(void 0===s)e.removeAttribute(t);else{let r=s.attrName;void 0===r&&(r=t),void 0!==s.remove?s.remove(e,r):e.removeAttribute(r)}}}function o(e,t,s){e.value=s}function u(e,t,s){}function l(e,t){}function c(e,t,s){e.checked=s}t.ElmAttr=n,n.propInfos={style:{type:1,set:function(e,t,s){r.setElementStyle(e,s)},diff:function(e,t,s){let i=r.diffStylesets(t,s);return null==i?void 0:i},update:function(e,t,s){r.setElementStringStyle(e,s)}},value:{type:1,set:o,diff:function(e,t,s){return s},remove:function(e,t){e.value=null}},defaultValue:{type:1,set:o,diff:u,remove:l},checked:{type:1,set:c,diff:function(e,t,s){return s},remove:function(e,t){e.checked=!1}},defaultChecked:{type:1,set:c,diff:u,remove:l},abort:{type:2},animationcancel:{type:2},animationend:{type:2},animationiteration:{type:2},animationstart:{type:2},auxclick:{type:2},blur:{type:2},cancel:{type:2},canplay:{type:2},canplaythrough:{type:2},change:{type:2},click:{type:2},close:{type:2},contextmenu:{type:2},cuechange:{type:2},dblclick:{type:2},drag:{type:2},dragend:{type:2},dragenter:{type:2},dragleave:{type:2},dragover:{type:2},dragstart:{type:2},drop:{type:2},durationchange:{type:2},emptied:{type:2},ended:{type:2},error:{type:2},focus:{type:2},gotpointercapture:{type:2},input:{type:2},invalid:{type:2},keydown:{type:2},keypress:{type:2},keyup:{type:2},load:{type:2},loadeddata:{type:2},loadedmetadata:{type:2},loadend:{type:2},loadstart:{type:2},lostpointercapture:{type:2},mousedown:{type:2},mouseenter:{type:2,isBubbling:!1},mouseleave:{type:2,isBubbling:!1},mousemove:{type:2},mouseout:{type:2},mouseover:{type:2},mouseup:{type:2},pause:{type:2},play:{type:2},playing:{type:2},pointercancel:{type:2},pointerdown:{type:2},pointerenter:{type:2},pointerleave:{type:2},pointermove:{type:2},pointerout:{type:2},pointerover:{type:2},pointerup:{type:2},progress:{type:2},ratechange:{type:2},reset:{type:2},resize:{type:2},scroll:{type:2},seeked:{type:2},seeking:{type:2},select:{type:2},stalled:{type:2},submit:{type:2},suspend:{type:2},timeupdate:{type:2},toggle:{type:2},touchcancel:{type:2},touchend:{type:2},touchenter:{type:2},touchleave:{type:2},touchmove:{type:2},touchstart:{type:2},transitioncancel:{type:2},transitionend:{type:2},transitionrun:{type:2},transitionstart:{type:2},volumechange:{type:2},waiting:{type:2},wheel:{type:2},fullscreenchange:{type:2},fullscreenerror:{type:2},copy:{type:2},cut:{type:2},paste:{type:2}}},function(e,t,s){"use strict";function r(e){if(!e)return 5;let t=e.length,s=10+t;for(let r=0;r<t;r++)s+=e.charCodeAt(r);return s}function i(...e){let t;for(let s of e){if(!s)continue;void 0===t?t="":t+=" ",t+="string"==typeof s?s:s.join(" ")}return t}function n(e,...t){for(let s of t){if(!s)continue;let t="object"==typeof s?s:o(s);for(let s in t)e[s]=t[s]}}function o(e){if(!e)return{};let t={},s=e.split(";");for(let e of s){let s=e.split(":");!s||0===s.length||s.length>2||(t[u(s[0].trim())]=s[1].trim())}return t}function u(e){return e?e.replace(/-([a-zA-Z])/g,(e,t)=>t.toUpperCase()):e}function l(e,...t){if(null!=e)for(let s of t)if(s){if(s.style&&(void 0===e.style&&(e.style={}),n(e.style,s.style)),s.className&&(void 0===e.className&&(e.className=""),e.className=i(e.className,s.className)),s.props){void 0===e.props&&(e.props={});for(let t in s.props)e[t]=s[t]}if(s.content)if(void 0===e.content)e.content=s.content;else{if(!Array.isArray(e.content)){let t=e.content;e.content=[],e.content.push(t)}e.content.push(s.content)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCompare=function e(t,s){if(t===s)return!0;if(null==t&&null==s)return!0;if(null==t||null==s)return!1;if(typeof t!=typeof s)return!1;if("object"==typeof t){for(let r in t)if(!e(t[r],s[r]))return!1;for(let e in s)if(!(e in t))return!1}else{if(Array.isArray(t)!==Array.isArray(s))return!1;if(!Array.isArray(t))return!1;if(t.length!==s.length)return!1;for(let r=0,i=t.length;r<i;r++)if(!e(t[r],s[r]))return!1}return!0},t.hashObject=function e(t){if(void 0===t)return 0;if(null===t)return 1;if(isNaN(0))return 2;if(!0===t)return 3;if(!1===t)return 4;if("number"==typeof t)return 10+t;if("string"==typeof t)return r(t);if("function"==typeof t)return r(t.name);if(Array.isArray(t)){let s=t.length,r=10+s;for(let i=0;i<s;i++)r+=i+e(t[i]);return r}{let s=10;for(let i in t)s+=r(i)+e(t[i]);return s}},t.hashString=r,t.mergeClasses=i,t.mergeStyles=function(...e){let t={};return n(t,...e),t},t.mergeStylesTo=n,t.parseStyleString=o,t.dashToCamel=u,t.camelToDash=function(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()},t.mergeSlices=function(...e){let t={};return l(t,...e),t},t.mergeSlicesTo=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),i=s(1),n=s(3),o=s(4);let u=Symbol("symKeysToNodes");class l extends i.VNBase{constructor(e){super(),this.type=6,this.func=e.func,this.thisArg=e.thisArg||n.s_currentClassComp,this.args=e.args,this.renderRequired=!1,this.key=e.key,this.linkKey=e.key||this.thisArg||this.func}replaceArgs(e){this.args=e,this.renderRequired=!0}get renderOnUpdate(){return this.renderRequired}get name(){let e=this.func.name;return null!=this.key&&(e+="@"+this.key),e}render(){return this.funcWatcher(this.args)}willMount(){this.linkNodeToFunc(),this.funcWatcher=o.createWatcher(this.func,this.updateFromWatcher,this.thisArg,this)}willUnmount(){this.funcWatcher.dispose(),this.unlinkNodeFromFunc()}isUpdatePossible(e){let t=e;return this.func===t.func&&this.thisArg===t.thisArg}prepareUpdate(e){let t=e;return this.key=t.key,this.linkKey=t.linkKey,this.args=t.args,r.VNUpdateDisp.DoCommitDoRender}commitUpdate(e){this.renderRequired=!1}static findVN(e,t,s){let r=t||s||n.s_currentClassComp||e,i=e["__keys-to-nodes"];return i&&i.get(r)}static update(e,t,s,r){let i=l.findVN(e,t,s);i&&(i.args=r,i.renderRequired=!0,i.requestUpdate())}updateFromWatcher(){this.renderRequired=!0,this.requestUpdate()}linkNodeToFunc(){let e=this.func[u];e||(e=new Map,this.func[u]=e),e.set(this.linkKey,this)}unlinkNodeFromFunc(){let e=this.func[u];e&&e.delete(this.linkKey)}}t.FuncProxyVN=l},function(e,t,s){"use strict";function r(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),r(s(0)),r(s(25)),r(s(7)),r(s(4))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),i=s(5);class n{constructor(e,t,s,r){this.parentDisp=e,this.action=t,this.first=s,this.last=r}get count(){return this.last-this.first+1}determineDNs(){let e,t;for(let s=this.first;s<=this.last&&(e=this.parentDisp.subNodeDisps[s],t=2===this.action?e.oldVN:e.newVN,this.firstDN=r.getFirstDN(t),!this.firstDN);s++);for(let s=this.last;s>=this.first&&(e=this.parentDisp.subNodeDisps[s],t=2===this.action?e.oldVN:e.newVN,this.lastDN=r.getLastDN(t),!this.lastDN);s--);}}t.VNDispGroup=n;class o{constructor(e,t=0,s){this.action=t,this.newVN=e,this.oldVN=s}buildSubNodeDispositions(){let e=i.createVNChainFromContent(this.oldVN.render()),t=e?e.length:0,s=this.oldVN.subNodes,r=s?s.length:0;if(0===t&&0===r)return;if(0===t)return void(this.subNodesToRemove=s);if(0===r)return this.subNodeDisps=e.map(e=>new o(e,1)),void(t>8&&(this.subNodeGroups=[new n(this,1,0,t-1)]));let l=!0,c=this.oldVN?this.oldVN.updateStrategy:void 0;if(c&&void 0!==c.allowKeyedNodeRecycling&&(l=c.allowKeyedNodeRecycling),1===t&&1===r){let t=e[0],r=s[0],i=new o(t);return this.subNodeDisps=[i],void(r===t||(l||t.key===r.key)&&u(r,t)?(i.action=2,i.oldVN=r):(i.action=1,this.subNodesToRemove=[r]))}let a=this.oldVN.keyedSubNodes,h=a?a.size:0;this.subNodeDisps=new Array(t),this.subNodesToRemove=[],h!==r||l?0===h&&l?this.matchOldNonKeyedOnly(s,r,e,t,t>8):this.matchOldMixed(s,r,a,e,t,l,t>8):this.matchOldKeyedOnly(a,e,t,t>8),0===this.subNodesToRemove.length&&(this.subNodesToRemove=void 0)}matchOldKeyedOnly(e,t,s,r){let i,l,c,a,h,d;r&&(this.subNodeGroups=[]);for(let p=0;p<s;p++)c=t[p],i=this.subNodeDisps[p]=new o(c),a=c.key,void 0===a?h=1:(l=e.get(a),void 0===l?h=1:(l===c||u(l,c)?(h=2,i.oldVN=l):(h=1,this.subNodesToRemove.push(l)),e.delete(a))),i.action=h,r&&(d||(d=new n(this,h,p),this.subNodeGroups.push(d)),(h!==d.action||2===h&&p>0&&this.subNodeDisps[p-1].oldVN!==l.prev)&&(d.last=p-1,d=new n(this,h,p),this.subNodeGroups.push(d)));d&&(d.last=s-1),e.forEach(e=>this.subNodesToRemove.push(e))}matchOldNonKeyedOnly(e,t,s,r,i){let n,l,c,a=0;for(;a<r&&a<t;a++)c=s[a],n=this.subNodeDisps[a]=new o(c),l=e[a],l===c||u(l,c)?(n.action=2,n.oldVN=l):(n.action=1,this.subNodesToRemove.push(l));for(let e=a;e<r;e++)this.subNodeDisps[e]=new o(s[e],1);for(let s=a;s<t;s++)this.subNodesToRemove.push(e[s]);i&&this.buildSubNodeGroups()}matchOldMixed(e,t,s,r,i,n,l){let c,a,h,d,p=[];for(let e=0;e<i;e++)h=r[e],c=this.subNodeDisps[e]=new o(h),d=h.key,void 0===d?p.push(c):(a=s.get(d),void 0===a?n?p.push(c):c.action=1:(a===h||u(a,h)?(c.action=2,c.oldVN=a):(c.action=1,this.subNodesToRemove.push(a)),s.delete(d)));let f=0,m=0,y=p.length;for(;f<t&&m<y;)a=e[f++],(void 0===a.key||s.has(a.key))&&(c=p[m++],h=c.newVN,(n||void 0===a.key&&void 0===h.key)&&u(a,h)?(c.action=2,c.oldVN=a):(c.action=1,this.subNodesToRemove.push(a)));for(let e=m;e<y;e++)p[e].action=1;for(let r=f;r<t;r++)a=e[r],(void 0===a.key||s.has(a.key))&&this.subNodesToRemove.push(a);l&&this.buildSubNodeGroups()}buildSubNodeGroups(){let e=this.subNodeDisps.length;this.subNodeGroups=[];let t,s,r=new n(this,this.subNodeDisps[0].action,0);this.subNodeGroups.push(r);for(let i=1;i<e;i++)s=this.subNodeDisps[i],t=s.action,(t!==r.action||2===t&&this.subNodeDisps[i-1].oldVN!==s.oldVN.prev)&&(r.last=i-1,r=new n(this,t,i),this.subNodeGroups.push(r));void 0!==r&&(r.last=e-1)}}function u(e,t){return e.type===t.type&&(void 0===e.isUpdatePossible||e.isUpdatePossible(t))}t.VNDisp=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.publishingVNs=new Set,this.subscribedVNs=new Set}}let i=new Map;t.notifyServicePublished=function(e,t){let s=i.get(e);void 0===s&&(s=new r,i.set(e,s)),s.publishingVNs.add(t);for(let t of s.subscribedVNs)t.notifyServiceChanged(e)},t.notifyServiceUnpublished=function(e,t){let s=i.get(e);if(void 0!==s)if(s.publishingVNs.delete(t),0===s.publishingVNs.size&&0===s.subscribedVNs.size)i.delete(e);else for(let t of s.subscribedVNs)t.notifyServiceChanged(e)},t.notifyServiceSubscribed=function(e,t){let s=i.get(e);void 0===s&&(s=new r,i.set(e,s)),s.subscribedVNs.add(t)},t.notifyServiceUnsubscribed=function(e,t){let s=i.get(e);void 0!==s&&(s.subscribedVNs.delete(t),0===s.publishingVNs.size&&0===s.subscribedVNs.size&&i.delete(e))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),i=s(8);class n extends i.ClassCompVN{constructor(e){super(),this.type=1,this.comp=e}get name(){return this.comp.displayName?this.comp.displayName:this.comp.constructor.name}get key(){return this.comp}willMount(){this.willMountInstance(this.comp),super.willMount()}willUnmount(){super.willUnmount(),this.willUnmountInstance(this.comp)}prepareUpdate(e){let t=e.comp,s=this.comp!==t;return s&&(this.willMountInstance(t),this.willUnmountInstance(this.comp),this.comp=t,super.reestablishWatcher()),r.VNUpdateDisp.getStockValue(!1,s)}willMountInstance(e){e.vn=this,e.willMount&&e.willMount()}willUnmountInstance(e){e.willUnmount&&e.willUnmount(),e.vn=void 0}}t.IndependentCompVN=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),i=s(2),n=s(8);class o extends n.ClassCompVN{constructor(e,t,s){if(super(),this.type=2,this.compClass=e,this.props={},t){for(let e in t){let s=t[e];null!=s&&("key"===e?this.key=s:"ref"===e?this.ref=s:this.props[e]=s)}void 0===this.key&&(this.key=t.id)}this.props.children=s}get name(){if(this.comp&&this.comp.displayName)return this.comp.displayName;{let e=this.compClass.name;return null!=this.key&&(e+="@"+this.key),e}}init(e,t){super.init(e,t),this.comp=new this.compClass(this.props)}willMount(){this.comp.vn=this,this.comp.willMount&&this.comp.willMount(),void 0!==this.ref&&r.setRef(this.ref,this.comp),super.willMount()}willUnmount(){super.willUnmount(),void 0!==this.ref&&r.setRef(this.ref,void 0,this.comp),this.comp.willUnmount&&this.comp.willUnmount(),this.comp.vn=void 0,this.comp=void 0}isUpdatePossible(e){return this.compClass===e.compClass}prepareUpdate(e){let t=e,s=!0;return void 0!==this.comp.shouldUpdate&&(s=this.comp.shouldUpdate(t.props)),t.ref!==this.ref?(this.ref=t.ref,void 0!==this.ref&&r.setRef(this.ref,this.comp)):void 0===t.ref&&r.setRef(this.ref,void 0,this.comp),this.key=t.key,Object.keys(this.props).forEach(e=>delete this.props[e]),Object.assign(this.props,t.props),i.VNUpdateDisp.getStockValue(!1,s)}}t.ManagedCompVN=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),i=s(2),n=s(1);class o extends n.VNBase{constructor(e,t,s){if(super(),this.type=3,this.func=e,this.props={},t){for(let e in t){let s=t[e];null!=s&&("key"===e?this.key=s:this.props[e]=s)}void 0===this.key&&(this.key=t.id)}this.props.children=s}static isVNaFragment(e){return e.func===r.Fragment}get name(){let e=this.func.name;return null!=this.key&&(e+="@"+this.key),e}render(){return this.func(this.props)}isUpdatePossible(e){return this.func===e.func}prepareUpdate(e){let t=e;return this.key=t.key,this.func=t.func,this.props=t.props,i.VNUpdateDisp.NoCommitDoRender}}t.FuncVN=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),i=s(1),n=s(9),o=s(19),u=s(10);class l extends i.VNBase{constructor(e,t,s){super(),this.type=4,this.elmName=e,this.props=t,this.children=s,t&&(this.key=t.key,void 0===this.key&&(this.key=t.id))}get name(){let e=this.elmName;return null!=this.key&&(e+="@"+this.key),e}get ownDN(){return this.elm}render(){return this.children}mount(){let e=o.SvgElms.getSvgElmInfo(this.elmName);return this.isSvg=void 0!==e&&(!0!==e||this.anchorDN.namespaceURI.endsWith("svg")),this.elm=this.isSvg?this.elm=document.createElementNS(o.SvgElms.namespace,o.SvgElms.getElmName(e,this.elmName)):this.elm=document.createElement(this.elmName),this.parseProps(),this.attrs&&this.addAttrs(),this.events&&this.addEvents(),this.customAttrs&&this.addCustomAttrs(),void 0!==this.ref&&r.setRef(this.ref,this.elm),this.elm}unmount(){void 0!==this.ref&&r.setRef(this.ref,void 0,this.elm),this.customAttrs&&this.removeCustomAttrs(!0),this.elm=null}isUpdatePossible(e){return this.elmName===e.elmName}prepareUpdate(e){let t=!u.deepCompare(this.props,e.props),s=this.children&&this.children.length>0||e.children&&e.children.length>0;return this.props=e.props,this.children=e.children,{shouldCommit:t,shouldRender:s}}commitUpdate(e){const t=e;t.parseProps(),t.ref!==this.ref&&(this.ref=t.ref,void 0!==this.ref&&r.setRef(this.ref,this.elm)),this.key=t.key,this.updateStrategy=t.updateStrategy,this.updateAttrs(t.attrs),this.updateEvents(t.events),this.updateCustomAttrs(t.customAttrs)}parseProps(){if(!this.props)return;let e,t,s;for(let r in this.props)if("key"!==r&&(e=this.props[r],null!=e&&!1!==e))if("ref"===r)this.ref=e;else if("updateStrategy"===r)this.updateStrategy=e;else if(t=n.ElmAttr.getPropertyInfo(r),s=t?t.type:1,1===s)this.attrs||(this.attrs={}),this.attrs[r]={info:t,val:e};else if(2===s){let s=c(t,e);s&&(this.events||(this.events={}),this.events[r]=s)}else this.customAttrs||(this.customAttrs={}),this.customAttrs[r]={info:t,val:e,handler:void 0}}addAttrs(){for(let e in this.attrs){let t=this.attrs[e];n.ElmAttr.setAttr(this.elm,e,t.info,t.val)}}updateAttrs(e){let t=this.elm,s=this.attrs;if(s)for(let r in s){let i=s[r],o=e?e[r]:void 0;o&&o.val?n.ElmAttr.updateAttr(t,r,i.info,i.val,o.val):n.ElmAttr.removeAttr(t,r,i.info)}if(e)for(let r in e){if(s&&r in s)continue;let i=e[r];n.ElmAttr.setAttr(t,r,i.info,i.val)}this.attrs=e}addEvents(){for(let e in this.events)this.addEvent(e,this.events[e])}addEvent(e,t){t.wrapper=this.createEventWrapper(t),this.elm.addEventListener(e,t.wrapper,t.useCapture)}removeEvent(e,t){this.elm.removeEventListener(e,t.wrapper,t.useCapture)}updateEvents(e){let t=this.events;if(t)for(let s in t){let r=t[s],i=e?e[s]:void 0;i?this.updateEvent(s,r,i):this.removeEvent(s,r)}if(e)for(let s in e)t&&s in t||this.addEvent(s,e[s]);this.events=e}updateEvent(e,t,s){return t.orgFunc===s.orgFunc&&t.that===s.that&&t.useCapture==s.useCapture?(s.wrapper=t.wrapper,!1):(this.elm.removeEventListener(e,t.wrapper,t.useCapture),s.wrapper=this.createEventWrapper(s),this.elm.addEventListener(e,s.wrapper,s.useCapture),!0)}createEventWrapper(e){return this.wrapCallback(e.orgFunc,e.that?e.that:this.creator)}addCustomAttrs(){for(let e in this.customAttrs){let t=this.customAttrs[e];try{t.handler=new t.info.handlerClass(this,t.val,e)}catch(t){console.error(`Error creating handler for custom attribute '${e}': ${t.message}`),delete this.customAttrs[e];continue}}}removeCustomAttrs(e){for(let t in this.customAttrs){let s=this.customAttrs[t];try{s.handler.terminate(e)}catch(e){console.error(`Error terminating handler for custom attribute '${t}': ${e.message}`)}}}updateCustomAttrs(e){let t=this.customAttrs;if(t)for(let s in t){const r=t[s],i=e?e[s]:void 0;if(i){try{r.handler.update(i.val)}catch(e){console.error(`Error updating handler for custom attribute '${s}': ${e.message}`)}i.handler=r.handler}else try{r.handler.terminate(!1)}catch(e){console.error(`Error terminating handler for custom attribute '${s}': ${e.message}`)}}if(e)for(let s in e){if(t&&s in t)continue;let r=e[s];try{r.handler=new r.info.handlerClass(this,r.val,s)}catch(t){console.error(`Error creating handler for custom attribute '${s}': ${t.message}`),delete e[s];continue}}this.customAttrs=e}}function c(e,t){if("function"==typeof t)return{info:e,orgFunc:t};if(Array.isArray(t)){if(2===t.length)return"boolean"==typeof t[1]?{info:e,orgFunc:t[0],useCapture:t[1]}:{info:e,orgFunc:t[0],that:t[1]};if(3===t.length)return{info:e,orgFunc:t[0],that:t[1],useCapture:t[2]}}}t.ElmVN=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static register(e,t){r.infos[e]=t}static isSvgElm(e){return e in r.infos}static getSvgElmInfo(e){return r.infos[e]}static isDualPurpose(e){return Array.isArray(e)?e.length>1&&e[1]:"string"!=typeof e&&e}static isTagDualPurpose(e){let t=r.infos[e];return!!t&&r.isDualPurpose(t)}static getElmName(e,t){return Array.isArray(e)?e.length>0?e[0]:t:"string"==typeof e?e:t}static getElmNameForTag(e){let t=r.infos[e];return t?r.getElmName(t,e):e}}t.SvgElms=r,r.namespace="http://www.w3.org/2000/svg",r.infos={svg:!1,a:!0,animate:!1,animateMotion:!1,animateTransform:!1,circle:!1,clipPath:!1,colorProfile:"color-profile",defs:!1,desc:!1,discard:!1,ellipse:!1,feBlend:!1,feColorMatrix:!1,feComponentTransfer:!1,feComposite:!1,feConvolveMatrix:!1,feDiffuseLighting:!1,feDisplacementMap:!1,feDistantLight:!1,feDropShadow:!1,feFlood:!1,feFuncA:!1,feFuncB:!1,feFuncG:!1,feFuncR:!1,feGaussianBlur:!1,feImage:!1,feMerge:!1,feMergeNode:!1,feMorphology:!1,feOffset:!1,fePointLight:!1,feSpecularLighting:!1,feSpotLight:!1,feTile:!1,feTurbulence:!1,filter:!1,foreignObject:!1,g:!1,hatch:!1,hatchpath:!1,image:!1,line:!1,linearGradient:!1,marker:!1,mask:!1,metadata:!1,mpath:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,script:!0,set:!1,solidcolor:!1,stop:!1,style:!0,switch:!1,symbol:!1,text:!1,textPath:!1,title:!0,textSpan:!1,use:!1,view:!1}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),i=s(1);class n extends i.VNBase{constructor(e){super(),this.type=5,this.text=e}get name(){return"#text"}get ownDN(){return this.textNode}mount(){return this.textNode=document.createTextNode(this.text)}unmount(){this.textNode=void 0}prepareUpdate(e){return r.VNUpdateDisp.getStockValue(this.text!==e.text,!1)}commitUpdate(e){this.textNode.nodeValue=this.text=e.text}}t.TextVN=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),i=s(1);class n extends i.VNBase{constructor(e,t){super(),this.type=7,this.promise=e.promise,this.errorContentFunc=e.errorContentFunc,this.content=t,this.key=e.key}get isSettled(){return null==this.promise}get name(){let e="Promise";return null!=this.key&&(e+="@"+this.key),e}render(){return this.content}willMount(){this.watchPromise()}willUnmount(){}isUpdatePossible(e){let t=e;return this.promise===t.promise}prepareUpdate(e){let t=e;return this.key=t.key,this.content=t.content,this.errorContentFunc=t.errorContentFunc,r.VNUpdateDisp.NoCommitDoRender}async watchPromise(){try{this.content=await this.promise,this.promise=null,this.isMounted&&this.requestUpdate()}catch(e){if(this.promise=null,this.content=null,!this.isMounted)return;if(this.errorContentFunc)try{this.content=this.errorContentFunc(e)}catch(e){console.warn("Unhandled rejected promise:",e)}else console.warn("Unhandled rejected promise:",e);this.requestUpdate()}}}t.PromiseProxyVN=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3),i=s(1),n=s(23);class o extends i.VNBase{constructor(e){super(),this.thrownPromises=new Set,this.type=0,this.anchorDN=e,this.depth=0}get name(){return"Root"}setContent(e,t){this.content=e,t?r.updateNodeSync(this):r.requestNodeUpdate(this)}render(){return this.errorUI?this.errorUI:this.waitingUI?this.waitingUI:this.content}willMount(){this.publishService("StdErrorHandling",this)}willUnmount(){this.unpublishService("StdErrorHandling")}supportsErrorHandling(){return!0}handleError(e,t){if(e instanceof Promise){let t=e;this.thrownPromises.add(t),t.then(()=>{this.onPromiseFulfilled(t)}),t.catch(()=>{this.onPromiseFulfilled(t)}),this.waitingUI||(this.waitingUI=new n.RootWaitingUI)}else this.errorUI=new n.RootErrorUI(this,e,t)}restart(){this.errorUI=void 0,r.requestNodeUpdate(this)}reportError(e,t){this.handleError(e,t),r.requestNodeUpdate(this)}onPromiseFulfilled(e){this.thrownPromises.delete(e),0===this.thrownPromises.size&&(this.waitingUI=null,r.requestNodeUpdate(this))}}t.RootVN=o;t.mountRootSync=function(e,t){let s=t||document.body,r=s.__mimblAnchorPropName__;r||(r=new o(s),s.__mimblAnchorPropName__=r),r.setContent(e,!0)},t.unmountRootSync=function(e){let t=e||document.body;if(!t)return;let s=t.__mimblAnchorPropName__;s&&(delete t.__mimblAnchorPropName__,s.setContent(null,!0),s.term())},t.mountRoot=function(e,t){let s=t||document.body,r=s.__mimblAnchorPropName__;r||(r=new o(s),s.__mimblAnchorPropName__=r),r.setContent(e,!1)},t.unmountRoot=function(e){let t=e||document.body;if(!t)return;let s=t.__mimblAnchorPropName__;s&&(delete t.__mimblAnchorPropName__,s.setContent(null,!1),s.scheduleCallAfterUpdate(()=>s.willUnmount()))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0);class i extends r.Component{constructor(e,t,s){super(),this.onRestart=()=>{this.rootVN.restart()},this.rootVN=e,this.err=t,this.pathString=s?s.join(" → "):""}render(){return r.jsx("div",{id:"rootError",style:{display:"flex",flexDirection:"column",alignItems:"start"}},r.jsx("div",null,this.err.message),r.jsx("div",null,this.pathString),r.jsx("hr",{style:{width:"100%"}}),r.jsx("button",{click:this.onRestart},"Restart"))}}t.RootErrorUI=i;class n extends r.Component{render(){return"Loading ..."}}t.RootWaitingUI=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(6),i=s(3);class n{init(e){this.doDOMUpdate=e}scheduleDOMUpdate(){i.scheduleFuncCall(this.onUpdate,!1,this)}cancelDOMUpdate(){}onUpdate(){this.doDOMUpdate()}}t.initializeMimblStyleScheduler=function(){let e=r.registerScheduler(new n);return r.setDefaultSchedulerType(e),e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),i=s(6);class n extends r.Component{constructor(e=null){super(e),this.m_uniqueID=Math.floor(1e9*Math.random()).toString(),this.rules=new Map,this.ruleNames=[],this.styleElm=document.createElement("style"),this.styleElm.id=this.m_uniqueID,document.head.appendChild(this.styleElm)}get uniqueID(){return this.m_uniqueID}decorateName(e){return e+this.m_uniqueID}createStyleRule(e,t,s){let r=this.createDummyRule(e,"dummy {}"),i=r.cssomRule,n=new o(this.uniqueID,i);return t&&n.setSelector(t),s&&n.setProperties(s),r.mcssRule=n,n}getRule(e){let t=this.rules.get(e);return void 0===t?void 0:t.mcssRule}removeRule(e){}willMount(){this.vn.publishService("LocalStyles",this)}willUnmount(){this.vn.unpublishService("LocalStyles"),this.styleElm.remove()}createDummyRule(e,t){let s=this.rules.get(e);void 0!==s&&this.removeRule(e);let r=this.ruleNames.length,i=this.styleElm.sheet;i.insertRule(t,r);let n=i.rules[r];return this.ruleNames.push(e),s={mcssRule:null,cssomRule:n,index:r},this.rules.set(e,s),s}}t.ComponentWithLocalStyles=n;class o extends class{constructor(e,t){this.uniqueID=e,this.cssomRule=t}decorate(e){return e+this.uniqueID}replace(e){return e.replace("(*)",this.uniqueID)}}{constructor(e,t){super(e,t)}setSelector(e){this.cssomRule.selectorText=this.replace(e)}setProperty(e,t,s){this.cssomRule.style.setProperty(this.replace(e),this.replace(t),s?"important":void 0)}setProperties(e){if(e)for(let t in e){let s=i.getStylePropValue(t,e[t]);this.cssomRule.style[this.replace(t)]=this.replace(s)}}removeProperty(e){this.cssomRule.style.removeProperty(this.replace(e))}}}])}));